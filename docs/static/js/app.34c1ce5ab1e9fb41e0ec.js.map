{"version":3,"sources":["webpack:///./src/app.js","webpack:///./src/css/style.css?e1b4","webpack:///./src/css/style.css","webpack:///./src/js/main.js","webpack:///./src/js/OBJLoader.js","webpack:///./src/js/MTLLoader.js","webpack:///./src/js/OBJMTLLoader.js","webpack:///./src/js/AsciiEffect.js","webpack:///./src/js/views/AbstractApplication.js"],"names":["Main","AbstractApplication","constructor","init","deathstar","OBJMTLLoader","texture","loadTexture","mat1","children","material","mat2","opacity","map","emissive","THREE","emissiveIntensity","rotation","x","y","z","scale","position","set","_scene","add","effect","_renderer","undefined","resolution","invert","setSize","window","innerWidth","innerHeight","document","body","appendChild","domElement","_controls","_camera","enableZoom","ambientLight","animate","requestAnimationFrame","bind","update","render","STLLoader","model","Promise","resolve","loader","load","loadObj","colladaLoader","mtlLoader","url","obj","mtl","init2","CANVAS_WIDTH","CANVAS_HEIGHT","container2","getElementById","renderer2","setClearColor","scene2","camera2","up","axes2","OBJLoader","manager","DefaultLoadingManager","materials","regexp","vertex_pattern","normal_pattern","uv_pattern","face_vertex","face_vertex_uv","face_vertex_uv_normal","face_vertex_normal","object_pattern","smoothing_pattern","material_library_pattern","material_use_pattern","prototype","onLoad","onProgress","onError","scope","FileLoader","setPath","path","text","parse","value","setMaterials","_createParserState","state","objects","object","vertices","normals","uvs","materialLibraries","startObject","name","fromDeclaration","previousMaterial","currentMaterial","_finalize","geometry","smooth","startMaterial","libraries","previous","inherited","groupCount","splice","index","length","mtllib","Array","isArray","groupStart","groupEnd","clone","cloned","push","end","lastMultiMaterial","mi","declared","finalize","parseVertexIndex","len","parseInt","parseNormalIndex","parseUVIndex","addVertex","a","b","c","src","dst","addVertexLine","addNormal","addUV","addUVLine","addFace","d","ua","ub","uc","ud","na","nb","nc","nd","vLen","ia","ib","ic","id","uvLen","nLen","addLineGeometry","type","vi","l","uvi","console","time","indexOf","replace","lines","split","line","lineFirstChar","lineSecondChar","lineLength","result","trimLeft","i","trim","charAt","exec","parseFloat","Error","lineParts","substring","lineVertices","lineUVs","li","llen","parts","substr","test","toLowerCase","container","Group","concat","isLine","buffergeometry","BufferGeometry","addAttribute","BufferAttribute","Float32Array","computeVertexNormals","createdMaterials","miLen","sourceMaterial","create","LineBasicMaterial","materialLine","copy","MeshPhongMaterial","shading","SmoothShading","FlatShading","mesh","addGroup","Mesh","LineSegments","timeEnd","MTLLoader","baseUrl","options","crossOrigin","info","delimiter_pattern","materialsInfo","pos","key","ss","materialCreator","MaterialCreator","materialsArray","nameLookup","side","FrontSide","wrap","RepeatWrapping","convert","converted","mn","mat","covmat","prop","save","lprop","normalizeRGB","ignoreZeroRGBs","invertTransparency","preload","getIndex","materialName","getAsArray","createMaterial_","params","Color","fromArray","wrapS","wrapT","mapping","Loader","Handlers","get","Texture","ImageLoader","image","ensurePowerOfTwo_","needsUpdate","Math","isPowerOfTwo","width","height","canvas","createElement","nextHighestPowerOfTwo_","ctx","getContext","drawImage","mtlurl","lastIndexOf","materialsCreator","traverse","data","mtllibCallback","vector","Vector3","uv","u","v","Vector2","face3","Face3","face_offset","meshN","meshName","mergeVertices","computeFaceNormals","computeBoundingSphere","Geometry","MeshLambertMaterial","group","add_face","normals_inds","faces","add_uvs","faceVertexUvs","handle_face_line","face_pattern1","face_pattern2","face_pattern3","face_pattern4","Object3D","mtlfile","log","AsciiEffect","renderer","charSet","bResolution","iScale","bColor","bAlpha","bBlock","bInvert","strResolution","style","cursor","oAscii","iWidth","iHeight","oImg","w","h","initAsciiSize","scene","camera","asciifyImage","round","fResolution","oCanvas","backgroundColor","rows","cells","color","cellSpacing","cellPadding","oStyle","display","whiteSpace","margin","padding","letterSpacing","fLetterSpacing","fontFamily","strFont","fontSize","fFontSize","lineHeight","fLineHeight","textAlign","textDecoration","aDefaultCharList","aDefaultColorCharList","oCanvasImg","oCtx","getImageData","aCharList","canvasRenderer","clearRect","oImgData","strChars","iOffset","iRed","iGreen","iBlue","iAlpha","iCharIdx","fBrightness","floor","strThisChar","innerHTML","PerspectiveCamera","lookAt","Scene","WebGLRenderer","setPixelRatio","devicePixelRatio","shadowMap","enabled","addEventListener","onWindowResize","aspect","updateProjectionMatrix","timestamp"],"mappings":";;;;;;;;;;AAEA;AACA;AAEA,GAAIA,CAAA,wDAAJ,G;;;;;;ACLA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;ACzBA;AACA;;;AAGA;AACA,+BAAgC,kBAAkB,mBAAmB,6BAA6B,kBAAkB,kBAAkB,iBAAiB,uBAAuB,GAAG,kEAAkE,yBAAyB,mBAAmB,gBAAgB,uCAAuC,yBAAyB,uCAAuC,iBAAiB,GAAG,oBAAoB,qBAAqB,mBAAmB,sBAAsB,GAAG,WAAW,mBAAmB,oBAAoB,6BAA6B,mBAAmB,gFAAgF,YAAY,sBAAsB,mBAAmB,yBAAyB,gBAAgB,kBAAkB,mBAAmB,GAAG;;AAEvzB;;;;;;;;;;;;;;;;;;;;;mZCNA;AAIA;AAEA;AAGA,KAAMA,KAAN,QAAmBC,CAAA,0EAAoB,CACrCC,aAAe,CACb,QACA,KAAKC,IAAL,GACD,CACKA,IAAN,EAAc,qDACZ,KAAMC,WAAY,KAAM,OAAKC,YAAL,CAAkB,8BAAlB,CAAkD,8BAAlD,CAAxB,CACA,KAAMC,SAAU,KAAM,OAAKC,WAAL,CAAiB,kCAAjB,CAAtB,CACA,KAAMC,MAAOJ,UAAUK,QAAV,CAAmB,CAAnB,EAAsBA,QAAtB,CAA+B,CAA/B,EAAkCC,QAA/C,CACA,KAAMC,MAAOP,UAAUK,QAAV,CAAmB,CAAnB,EAAsBA,QAAtB,CAA+B,CAA/B,EAAkCC,QAA/C,CACAF,KAAKI,OAAL,CAAe,GAAf,CACAD,KAAKE,GAAL,CAAWP,OAAX,CACAK,KAAKG,QAAL,CAAgB,GAAIC,CAAA,4CAAJ,CAAgB,QAAhB,CAAhB,CACAJ,KAAKK,iBAAL,CAAyB,GAAzB,CACAZ,UAAUa,QAAV,CAAmBC,CAAnB,CAAuB,CAAC,kBAAxB,CACAd,UAAUa,QAAV,CAAmBE,CAAnB,CAAuB,CAAC,kBAAxB,CACAf,UAAUa,QAAV,CAAmBG,CAAnB,CAAuB,kBAAvB,CACA,KAAMC,OAAQ,EAAd,CACAjB,UAAUkB,QAAV,CAAmBJ,CAAnB,CAAuB,IAAMG,KAA7B,CACAjB,UAAUkB,QAAV,CAAmBH,CAAnB,CAAuB,CAAC,CAAD,CAAKE,KAA5B,CACAjB,UAAUkB,QAAV,CAAmBF,CAAnB,CAAuB,IAAMC,KAA7B,CACAjB,UAAUiB,KAAV,CAAgBE,GAAhB,CAAoBF,KAApB,CAA2BA,KAA3B,CAAkCA,KAAlC,EACA,MAAKG,MAAL,CAAYC,GAAZ,CAAgBrB,SAAhB,EACA,MAAKA,SAAL,CAAiBA,SAAjB,CAEA;AACA;AACA;AACA;AACA;AAEA,MAAKsB,MAAL,CAAc,GAAIX,CAAA,kDAAJ,CAAsB,MAAKY,SAA3B,CAAsCC,SAAtC,CAAiD,CAACC,WAAY,KAAb,CAAoBC,OAAQ,IAA5B,CAAjD,CAAd,CACA,MAAKJ,MAAL,CAAYK,OAAZ,CAAoBC,OAAOC,UAA3B,CAAuCD,OAAOE,WAA9C,EACAC,SAASC,IAAT,CAAcC,WAAd,CAA0B,MAAKX,MAAL,CAAYY,UAAtC,EAEA,MAAKC,SAAL,CAAiB,GAAIxB,CAAA,oDAAJ,CAAwB,MAAKyB,OAA7B,CAAsC,MAAKd,MAAL,CAAYY,UAAlD,CAAjB,CACA,MAAKC,SAAL,CAAeE,UAAf,CAA4B,KAA5B,CACA,KAAMC,cAAe,GAAI3B,CAAA,mDAAJ,CAAuB,QAAvB,CAArB,CACA,MAAKS,MAAL,CAAYC,GAAZ,CAAgBiB,YAAhB,EACA;AACA,MAAKC,OAAL,GAnCY,KAoCb,CACDA,SAAW,CACTC,sBAAsB,KAAKD,OAAL,CAAaE,IAAb,CAAkB,IAAlB,CAAtB,EACA;AACA,KAAKN,SAAL,CAAeO,MAAf,GACA;AACA,KAAKpB,MAAL,CAAYqB,MAAZ,CAAmB,KAAKvB,MAAxB,CAAgC,KAAKgB,OAArC,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CACDQ,UAAWC,KAAX,CAAkB,CAChB,MAAO,IAAIC,QAAJ,CAAaC,OAAD,EAAa,CAC9B,KAAMC,QAAS,GAAIrC,CAAA,gDAAJ,EAAf,CACAqC,OAAOC,IAAP,CAAYJ,KAAZ,CAAmBE,OAAnB,EACD,CAHM,CAAP,CAID,CACDG,QAASL,KAAT,CAAgB,CACd,MAAO,IAAIC,QAAJ,CAAaC,OAAD,EAAa,CAC9B,KAAMC,QAAS,GAAIrC,CAAA,gDAAJ,EAAf,CACAqC,OAAOC,IAAP,CAAYJ,KAAZ,CAAmBE,OAAnB,EACD,CAHM,CAAP,CAID,CACDI,cAAeN,KAAf,CAAsB,CACpB,MAAO,IAAIC,QAAJ,CAAaC,OAAD,EAAa,CAC9B,KAAMC,QAAS,GAAIrC,CAAA,oDAAJ,EAAf,CACAqC,OAAOC,IAAP,CAAYJ,KAAZ,CAAmBE,OAAnB,EACD,CAHM,CAAP,CAID,CACD5C,YAAaD,OAAb,CAAsB,CACpB,MAAO,IAAI4C,QAAJ,CAAaC,OAAD,EAAa,CAC9B,KAAMC,QAAS,GAAIrC,CAAA,oDAAJ,EAAf,CACAqC,OAAOC,IAAP,CAAY/C,OAAZ,CAAqB6C,OAArB,EACD,CAHM,CAAP,CAID,CACDK,UAAWC,GAAX,CAAgB,CACd,MAAO,IAAIP,QAAJ,CAAYC,SAAW,CAC5B,KAAMK,WAAY,GAAIzC,CAAA,gDAAJ,EAAlB,CACAyC,UAAUH,IAAV,CAAeI,GAAf,CAAoBN,OAApB,EACD,CAHM,CAAP,CAID,CACD9C,aAAcqD,GAAd,CAAmBC,GAAnB,CAAwB,CACtB,MAAO,IAAIT,QAAJ,CAAYC,SAAW,CAC5B,KAAMC,QAAS,GAAIrC,CAAA,mDAAJ,EAAf,CACAqC,OAAOC,IAAP,CAAYK,GAAZ,CAAiBC,GAAjB,CAAsBR,OAAtB,EACD,CAHM,CAAP,CAID,CACDS,OAAS,CACP,KAAMC,cAAe,GAArB,CACA,KAAMC,eAAgB,GAAtB,CACA,KAAMC,YAAa5B,SAAS6B,cAAT,CAAwB,OAAxB,CAAnB,CACA,KAAKC,SAAL,CAAiB,GAAIlD,CAAA,oDAAJ,EAAjB,CACA,KAAKkD,SAAL,CAAeC,aAAf,CAA6B,QAA7B,CAAuC,CAAvC,EACA,KAAKD,SAAL,CAAelC,OAAf,CAAuB8B,YAAvB,CAAqCC,aAArC,EACAC,WAAW1B,WAAX,CAAuB,KAAK4B,SAAL,CAAe3B,UAAtC,EAEA;AACA,KAAK6B,MAAL,CAAc,GAAIpD,CAAA,4CAAJ,EAAd,CAEA;AACA,KAAKqD,OAAL,CAAe,GAAIrD,CAAA,wDAAJ,CAA4B,EAA5B,CAAgC8C,aAAeC,aAA/C,CAA8D,CAA9D,CAAiE,IAAjE,CAAf,CACA,KAAKM,OAAL,CAAaC,EAAb,CAAkB,KAAK7B,OAAL,CAAa6B,EAA/B,CAAkC;AAElC;AACA,KAAMC,OAAQ,GAAIvD,CAAA,iDAAJ,CAAqB,GAArB,CAAd,CACA,KAAKoD,MAAL,CAAY1C,GAAZ,CAAgB6C,KAAhB,EACD,CAlHoC,CAqHvC,yDAAetE,IAAf,E;;;;;;AC/HA;;GAIAe,MAAMwD,SAAN,CAAkB,SAAUC,OAAV,CAAmB,CACnC,KAAKA,OAAL,CAAgBA,UAAY5C,SAAb,CAA0B4C,OAA1B,CAAoCzD,MAAM0D,qBAAzD,CAEA,KAAKC,SAAL,CAAiB,IAAjB,CAEA,KAAKC,MAAL,CAAc,CACZ;AACAC,eAAgB,0DAFJ,CAGZ;AACAC,eAAgB,2DAJJ,CAKZ;AACAC,WAAY,yCANA,CAOZ;AACAC,YAAa,iDARD,CASZ;AACAC,eAAgB,qFAVJ,CAWZ;AACAC,sBAAuB,yHAZX,CAaZ;AACAC,mBAAoB,6FAdR,CAeZ;AACAC,eAAgB,eAhBJ,CAiBZ;AACAC,kBAAmB,mBAlBP,CAmBZ;AACAC,yBAA0B,UApBd,CAqBZ;AACAC,qBAAsB,UAtBV,CAAd,CAwBD,CA7BD,CA+BAvE,MAAMwD,SAAN,CAAgBgB,SAAhB,CAA4B,CAE1BrF,YAAaa,MAAMwD,SAFO,CAI1BlB,KAAM,SAAUI,GAAV,CAAe+B,MAAf,CAAuBC,UAAvB,CAAmCC,OAAnC,CAA4C,CAChD,GAAIC,OAAQ,IAAZ,CAEA,GAAIvC,QAAS,GAAIrC,OAAM6E,UAAV,CAAqBD,MAAMnB,OAA3B,CAAb,CACApB,OAAOyC,OAAP,CAAe,KAAKC,IAApB,EACA1C,OAAOC,IAAP,CAAYI,GAAZ,CAAiB,SAAUsC,IAAV,CAAgB,CAC/BP,OAAOG,MAAMK,KAAN,CAAYD,IAAZ,CAAP,EACD,CAFD,CAEGN,UAFH,CAEeC,OAFf,EAGD,CAZyB,CAc1BG,QAAS,SAAUI,KAAV,CAAiB,CACxB,KAAKH,IAAL,CAAYG,KAAZ,CACD,CAhByB,CAkB1BC,aAAc,SAAUxB,SAAV,CAAqB,CACjC,KAAKA,SAAL,CAAiBA,SAAjB,CACD,CApByB,CAsB1ByB,mBAAoB,UAAY,CAC9B,GAAIC,OAAQ,CACVC,QAAS,EADC,CAEVC,OAAQ,EAFE,CAIVC,SAAU,EAJA,CAKVC,QAAS,EALC,CAMVC,IAAK,EANK,CAQVC,kBAAmB,EART,CAUVC,YAAa,SAAUC,IAAV,CAAgBC,eAAhB,CAAiC,CAC5C;AACA;AACA,GAAI,KAAKP,MAAL,EAAe,KAAKA,MAAL,CAAYO,eAAZ,GAAgC,KAAnD,CAA0D,CACxD,KAAKP,MAAL,CAAYM,IAAZ,CAAmBA,IAAnB,CACA,KAAKN,MAAL,CAAYO,eAAZ,CAA+BA,kBAAoB,KAAnD,CACA,OACD,CAED,GAAIC,kBAAoB,KAAKR,MAAL,EAAe,MAAO,MAAKA,MAAL,CAAYS,eAAnB,GAAuC,UAAtD,CAAmE,KAAKT,MAAL,CAAYS,eAAZ,EAAnE,CAAmGnF,SAA3H,CAEA,GAAI,KAAK0E,MAAL,EAAe,MAAO,MAAKA,MAAL,CAAYU,SAAnB,GAAiC,UAApD,CAAgE,CAC9D,KAAKV,MAAL,CAAYU,SAAZ,CAAsB,IAAtB,EACD,CAED,KAAKV,MAAL,CAAc,CACZM,KAAMA,MAAQ,EADF,CAEZC,gBAAkBA,kBAAoB,KAF1B,CAIZI,SAAU,CACRV,SAAU,EADF,CAERC,QAAS,EAFD,CAGRC,IAAK,EAHG,CAJE,CASZ/B,UAAW,EATC,CAUZwC,OAAQ,IAVI,CAYZC,cAAe,SAAUP,IAAV,CAAgBQ,SAAhB,CAA2B,CACxC,GAAIC,UAAW,KAAKL,SAAL,CAAe,KAAf,CAAf,CAEA;AACA;AACA,GAAIK,WAAaA,SAASC,SAAT,EAAsBD,SAASE,UAAT,EAAuB,CAA1D,CAAJ,CAAkE,CAChE,KAAK7C,SAAL,CAAe8C,MAAf,CAAsBH,SAASI,KAA/B,CAAsC,CAAtC,EACD,CAED,GAAI/G,UAAW,CACb+G,MAAO,KAAK/C,SAAL,CAAegD,MADT,CAEbd,KAAMA,MAAQ,EAFD,CAGbe,OAASC,MAAMC,OAAN,CAAcT,SAAd,GAA4BA,UAAUM,MAAV,CAAmB,CAA/C,CAAmDN,UAAWA,UAAUM,MAAV,CAAmB,CAA9B,CAAnD,CAAuF,EAHnF,CAIbR,OAASG,WAAazF,SAAb,CAAyByF,SAASH,MAAlC,CAA2C,KAAKA,MAJ5C,CAKbY,WAAaT,WAAazF,SAAb,CAAyByF,SAASU,QAAlC,CAA6C,CAL7C,CAMbA,SAAU,CAAC,CANE,CAObR,WAAY,CAAC,CAPA,CAQbD,UAAW,KARE,CAUbU,MAAO,SAAUP,KAAV,CAAiB,CACtB,GAAIQ,QAAS,CACXR,MAAQ,MAAOA,MAAP,GAAiB,QAAjB,CAA4BA,KAA5B,CAAoC,KAAKA,KADtC,CAEXb,KAAM,KAAKA,IAFA,CAGXe,OAAQ,KAAKA,MAHF,CAIXT,OAAQ,KAAKA,MAJF,CAKXY,WAAY,CALD,CAMXC,SAAU,CAAC,CANA,CAOXR,WAAY,CAAC,CAPF,CAQXD,UAAW,KARA,CAAb,CAUAW,OAAOD,KAAP,CAAe,KAAKA,KAAL,CAAWnF,IAAX,CAAgBoF,MAAhB,CAAf,CACA,MAAOA,OAAP,CACD,CAvBY,CAAf,CA0BA,KAAKvD,SAAL,CAAewD,IAAf,CAAoBxH,QAApB,EAEA,MAAOA,SAAP,CACD,CAlDW,CAoDZqG,gBAAiB,UAAY,CAC3B,GAAI,KAAKrC,SAAL,CAAegD,MAAf,CAAwB,CAA5B,CAA+B,CAC7B,MAAO,MAAKhD,SAAL,CAAgB,KAAKA,SAAL,CAAegD,MAAf,CAAwB,CAAxC,CAAP,CACD,CAED,MAAO9F,UAAP,CACD,CA1DW,CA4DZoF,UAAW,SAAUmB,GAAV,CAAe,CACxB,GAAIC,mBAAoB,KAAKrB,eAAL,EAAxB,CACA,GAAIqB,mBAAqBA,kBAAkBL,QAAlB,GAA+B,CAAC,CAAzD,CAA4D,CAC1DK,kBAAkBL,QAAlB,CAA6B,KAAKd,QAAL,CAAcV,QAAd,CAAuBmB,MAAvB,CAAgC,CAA7D,CACAU,kBAAkBb,UAAlB,CAA+Ba,kBAAkBL,QAAlB,CAA6BK,kBAAkBN,UAA9E,CACAM,kBAAkBd,SAAlB,CAA8B,KAA9B,CACD,CAED;AACA,GAAIa,KAAO,KAAKzD,SAAL,CAAegD,MAAf,CAAwB,CAAnC,CAAsC,CACpC,IAAK,GAAIW,IAAK,KAAK3D,SAAL,CAAegD,MAAf,CAAwB,CAAtC,CAAyCW,IAAM,CAA/C,CAAkDA,IAAlD,CAAwD,CACtD,GAAI,KAAK3D,SAAL,CAAe2D,EAAf,EAAmBd,UAAnB,EAAiC,CAArC,CAAwC,CACtC,KAAK7C,SAAL,CAAe8C,MAAf,CAAsBa,EAAtB,CAA0B,CAA1B,EACD,CACF,CACF,CAED;AACA,GAAIF,KAAO,KAAKzD,SAAL,CAAegD,MAAf,GAA0B,CAArC,CAAwC,CACtC,KAAKhD,SAAL,CAAewD,IAAf,CAAoB,CAClBtB,KAAM,EADY,CAElBM,OAAQ,KAAKA,MAFK,CAApB,EAID,CAED,MAAOkB,kBAAP,CACD,CAGH;AACA;AACA;AACA;AACA;AA7Fc,CAAd,CA+FA,GAAItB,kBAAoBA,iBAAiBF,IAArC,EAA6C,MAAOE,kBAAiBkB,KAAxB,GAAkC,UAAnF,CAA+F,CAC7F,GAAIM,UAAWxB,iBAAiBkB,KAAjB,CAAuB,CAAvB,CAAf,CACAM,SAAShB,SAAT,CAAqB,IAArB,CACA,KAAKhB,MAAL,CAAY5B,SAAZ,CAAsBwD,IAAtB,CAA2BI,QAA3B,EACD,CAED,KAAKjC,OAAL,CAAa6B,IAAb,CAAkB,KAAK5B,MAAvB,EACD,CA/HS,CAiIViC,SAAU,UAAY,CACpB,GAAI,KAAKjC,MAAL,EAAe,MAAO,MAAKA,MAAL,CAAYU,SAAnB,GAAiC,UAApD,CAAgE,CAC9D,KAAKV,MAAL,CAAYU,SAAZ,CAAsB,IAAtB,EACD,CACF,CArIS,CAuIVwB,iBAAkB,SAAUvC,KAAV,CAAiBwC,GAAjB,CAAsB,CACtC,GAAIhB,OAAQiB,SAASzC,KAAT,CAAgB,EAAhB,CAAZ,CACA,MAAO,CAACwB,OAAS,CAAT,CAAaA,MAAQ,CAArB,CAAyBA,MAAQgB,IAAM,CAAxC,EAA6C,CAApD,CACD,CA1IS,CA4IVE,iBAAkB,SAAU1C,KAAV,CAAiBwC,GAAjB,CAAsB,CACtC,GAAIhB,OAAQiB,SAASzC,KAAT,CAAgB,EAAhB,CAAZ,CACA,MAAO,CAACwB,OAAS,CAAT,CAAaA,MAAQ,CAArB,CAAyBA,MAAQgB,IAAM,CAAxC,EAA6C,CAApD,CACD,CA/IS,CAiJVG,aAAc,SAAU3C,KAAV,CAAiBwC,GAAjB,CAAsB,CAClC,GAAIhB,OAAQiB,SAASzC,KAAT,CAAgB,EAAhB,CAAZ,CACA,MAAO,CAACwB,OAAS,CAAT,CAAaA,MAAQ,CAArB,CAAyBA,MAAQgB,IAAM,CAAxC,EAA6C,CAApD,CACD,CApJS,CAsJVI,UAAW,SAAUC,CAAV,CAAaC,CAAb,CAAgBC,CAAhB,CAAmB,CAC5B,GAAIC,KAAM,KAAK1C,QAAf,CACA,GAAI2C,KAAM,KAAK5C,MAAL,CAAYW,QAAZ,CAAqBV,QAA/B,CAEA2C,IAAIhB,IAAJ,CAASe,IAAKH,EAAI,CAAT,CAAT,EACAI,IAAIhB,IAAJ,CAASe,IAAKH,EAAI,CAAT,CAAT,EACAI,IAAIhB,IAAJ,CAASe,IAAKH,EAAI,CAAT,CAAT,EACAI,IAAIhB,IAAJ,CAASe,IAAKF,EAAI,CAAT,CAAT,EACAG,IAAIhB,IAAJ,CAASe,IAAKF,EAAI,CAAT,CAAT,EACAG,IAAIhB,IAAJ,CAASe,IAAKF,EAAI,CAAT,CAAT,EACAG,IAAIhB,IAAJ,CAASe,IAAKD,EAAI,CAAT,CAAT,EACAE,IAAIhB,IAAJ,CAASe,IAAKD,EAAI,CAAT,CAAT,EACAE,IAAIhB,IAAJ,CAASe,IAAKD,EAAI,CAAT,CAAT,EACD,CAnKS,CAqKVG,cAAe,SAAUL,CAAV,CAAa,CAC1B,GAAIG,KAAM,KAAK1C,QAAf,CACA,GAAI2C,KAAM,KAAK5C,MAAL,CAAYW,QAAZ,CAAqBV,QAA/B,CAEA2C,IAAIhB,IAAJ,CAASe,IAAKH,EAAI,CAAT,CAAT,EACAI,IAAIhB,IAAJ,CAASe,IAAKH,EAAI,CAAT,CAAT,EACAI,IAAIhB,IAAJ,CAASe,IAAKH,EAAI,CAAT,CAAT,EACD,CA5KS,CA8KVM,UAAW,SAAUN,CAAV,CAAaC,CAAb,CAAgBC,CAAhB,CAAmB,CAC5B,GAAIC,KAAM,KAAKzC,OAAf,CACA,GAAI0C,KAAM,KAAK5C,MAAL,CAAYW,QAAZ,CAAqBT,OAA/B,CAEA0C,IAAIhB,IAAJ,CAASe,IAAKH,EAAI,CAAT,CAAT,EACAI,IAAIhB,IAAJ,CAASe,IAAKH,EAAI,CAAT,CAAT,EACAI,IAAIhB,IAAJ,CAASe,IAAKH,EAAI,CAAT,CAAT,EACAI,IAAIhB,IAAJ,CAASe,IAAKF,EAAI,CAAT,CAAT,EACAG,IAAIhB,IAAJ,CAASe,IAAKF,EAAI,CAAT,CAAT,EACAG,IAAIhB,IAAJ,CAASe,IAAKF,EAAI,CAAT,CAAT,EACAG,IAAIhB,IAAJ,CAASe,IAAKD,EAAI,CAAT,CAAT,EACAE,IAAIhB,IAAJ,CAASe,IAAKD,EAAI,CAAT,CAAT,EACAE,IAAIhB,IAAJ,CAASe,IAAKD,EAAI,CAAT,CAAT,EACD,CA3LS,CA6LVK,MAAO,SAAUP,CAAV,CAAaC,CAAb,CAAgBC,CAAhB,CAAmB,CACxB,GAAIC,KAAM,KAAKxC,GAAf,CACA,GAAIyC,KAAM,KAAK5C,MAAL,CAAYW,QAAZ,CAAqBR,GAA/B,CAEAyC,IAAIhB,IAAJ,CAASe,IAAKH,EAAI,CAAT,CAAT,EACAI,IAAIhB,IAAJ,CAASe,IAAKH,EAAI,CAAT,CAAT,EACAI,IAAIhB,IAAJ,CAASe,IAAKF,EAAI,CAAT,CAAT,EACAG,IAAIhB,IAAJ,CAASe,IAAKF,EAAI,CAAT,CAAT,EACAG,IAAIhB,IAAJ,CAASe,IAAKD,EAAI,CAAT,CAAT,EACAE,IAAIhB,IAAJ,CAASe,IAAKD,EAAI,CAAT,CAAT,EACD,CAvMS,CAyMVM,UAAW,SAAUR,CAAV,CAAa,CACtB,GAAIG,KAAM,KAAKxC,GAAf,CACA,GAAIyC,KAAM,KAAK5C,MAAL,CAAYW,QAAZ,CAAqBR,GAA/B,CAEAyC,IAAIhB,IAAJ,CAASe,IAAKH,EAAI,CAAT,CAAT,EACAI,IAAIhB,IAAJ,CAASe,IAAKH,EAAI,CAAT,CAAT,EACD,CA/MS,CAiNVS,QAAS,SAAUT,CAAV,CAAaC,CAAb,CAAgBC,CAAhB,CAAmBQ,CAAnB,CAAsBC,EAAtB,CAA0BC,EAA1B,CAA8BC,EAA9B,CAAkCC,EAAlC,CAAsCC,EAAtC,CAA0CC,EAA1C,CAA8CC,EAA9C,CAAkDC,EAAlD,CAAsD,CAC7D,GAAIC,MAAO,KAAK1D,QAAL,CAAcmB,MAAzB,CAEA,GAAIwC,IAAK,KAAK1B,gBAAL,CAAsBM,CAAtB,CAAyBmB,IAAzB,CAAT,CACA,GAAIE,IAAK,KAAK3B,gBAAL,CAAsBO,CAAtB,CAAyBkB,IAAzB,CAAT,CACA,GAAIG,IAAK,KAAK5B,gBAAL,CAAsBQ,CAAtB,CAAyBiB,IAAzB,CAAT,CACA,GAAII,GAAJ,CAEA,GAAIb,IAAM5H,SAAV,CAAqB,CACnB,KAAKiH,SAAL,CAAeqB,EAAf,CAAmBC,EAAnB,CAAuBC,EAAvB,EACD,CAFD,IAEO,CACLC,GAAK,KAAK7B,gBAAL,CAAsBgB,CAAtB,CAAyBS,IAAzB,CAAL,CAEA,KAAKpB,SAAL,CAAeqB,EAAf,CAAmBC,EAAnB,CAAuBE,EAAvB,EACA,KAAKxB,SAAL,CAAesB,EAAf,CAAmBC,EAAnB,CAAuBC,EAAvB,EACD,CAED,GAAIZ,KAAO7H,SAAX,CAAsB,CACpB,GAAI0I,OAAQ,KAAK7D,GAAL,CAASiB,MAArB,CAEAwC,GAAK,KAAKtB,YAAL,CAAkBa,EAAlB,CAAsBa,KAAtB,CAAL,CACAH,GAAK,KAAKvB,YAAL,CAAkBc,EAAlB,CAAsBY,KAAtB,CAAL,CACAF,GAAK,KAAKxB,YAAL,CAAkBe,EAAlB,CAAsBW,KAAtB,CAAL,CAEA,GAAId,IAAM5H,SAAV,CAAqB,CACnB,KAAKyH,KAAL,CAAWa,EAAX,CAAeC,EAAf,CAAmBC,EAAnB,EACD,CAFD,IAEO,CACLC,GAAK,KAAKzB,YAAL,CAAkBgB,EAAlB,CAAsBU,KAAtB,CAAL,CAEA,KAAKjB,KAAL,CAAWa,EAAX,CAAeC,EAAf,CAAmBE,EAAnB,EACA,KAAKhB,KAAL,CAAWc,EAAX,CAAeC,EAAf,CAAmBC,EAAnB,EACD,CACF,CAED,GAAIR,KAAOjI,SAAX,CAAsB,CACpB;AACA,GAAI2I,MAAO,KAAK/D,OAAL,CAAakB,MAAxB,CACAwC,GAAK,KAAKvB,gBAAL,CAAsBkB,EAAtB,CAA0BU,IAA1B,CAAL,CAEAJ,GAAKN,KAAOC,EAAP,CAAYI,EAAZ,CAAiB,KAAKvB,gBAAL,CAAsBmB,EAAtB,CAA0BS,IAA1B,CAAtB,CACAH,GAAKP,KAAOE,EAAP,CAAYG,EAAZ,CAAiB,KAAKvB,gBAAL,CAAsBoB,EAAtB,CAA0BQ,IAA1B,CAAtB,CAEA,GAAIf,IAAM5H,SAAV,CAAqB,CACnB,KAAKwH,SAAL,CAAec,EAAf,CAAmBC,EAAnB,CAAuBC,EAAvB,EACD,CAFD,IAEO,CACLC,GAAK,KAAK1B,gBAAL,CAAsBqB,EAAtB,CAA0BO,IAA1B,CAAL,CAEA,KAAKnB,SAAL,CAAec,EAAf,CAAmBC,EAAnB,CAAuBE,EAAvB,EACA,KAAKjB,SAAL,CAAee,EAAf,CAAmBC,EAAnB,CAAuBC,EAAvB,EACD,CACF,CACF,CApQS,CAsQVG,gBAAiB,SAAUjE,QAAV,CAAoBE,GAApB,CAAyB,CACxC,KAAKH,MAAL,CAAYW,QAAZ,CAAqBwD,IAArB,CAA4B,MAA5B,CAEA,GAAIR,MAAO,KAAK1D,QAAL,CAAcmB,MAAzB,CACA,GAAI4C,OAAQ,KAAK7D,GAAL,CAASiB,MAArB,CAEA,IAAK,GAAIgD,IAAK,CAAT,CAAYC,EAAIpE,SAASmB,MAA9B,CAAsCgD,GAAKC,CAA3C,CAA8CD,IAA9C,CAAoD,CAClD,KAAKvB,aAAL,CAAmB,KAAKX,gBAAL,CAAsBjC,SAAUmE,EAAV,CAAtB,CAAsCT,IAAtC,CAAnB,EACD,CAED,IAAK,GAAIW,KAAM,CAAV,CAAaD,EAAIlE,IAAIiB,MAA1B,CAAkCkD,IAAMD,CAAxC,CAA2CC,KAA3C,CAAkD,CAChD,KAAKtB,SAAL,CAAe,KAAKV,YAAL,CAAkBnC,IAAKmE,GAAL,CAAlB,CAA8BN,KAA9B,CAAf,EACD,CACF,CAnRS,CAAZ,CAuRAlE,MAAMO,WAAN,CAAkB,EAAlB,CAAsB,KAAtB,EAEA,MAAOP,MAAP,CACD,CAjTyB,CAmT1BJ,MAAO,SAAUD,IAAV,CAAgB,CACrB8E,QAAQC,IAAR,CAAa,WAAb,EAEA,GAAI1E,OAAQ,KAAKD,kBAAL,EAAZ,CAEA,GAAIJ,KAAKgF,OAAL,CAAa,MAAb,IAAyB,CAAC,CAA9B,CAAiC,CAC/B;AACAhF,KAAOA,KAAKiF,OAAL,CAAa,OAAb,CAAsB,IAAtB,CAAP,CACD,CAED,GAAIjF,KAAKgF,OAAL,CAAa,MAAb,IAAyB,CAAC,CAA9B,CAAiC,CAC/B;AACAhF,KAAOA,KAAKiF,OAAL,CAAa,OAAb,CAAsB,EAAtB,CAAP,CACD,CAED,GAAIC,OAAQlF,KAAKmF,KAAL,CAAW,IAAX,CAAZ,CACA,GAAIC,MAAO,EAAX,CAAeC,cAAgB,EAA/B,CAAmCC,eAAiB,EAApD,CACA,GAAIC,YAAa,CAAjB,CACA,GAAIC,QAAS,EAAb,CAEA;AACA,GAAIC,UAAY,MAAO,GAAGA,QAAV,GAAuB,UAAvC,CAEA,IAAK,GAAIC,GAAI,CAAR,CAAWd,EAAIM,MAAMvD,MAA1B,CAAkC+D,EAAId,CAAtC,CAAyCc,GAAzC,CAA8C,CAC5CN,KAAOF,MAAOQ,CAAP,CAAP,CAEAN,KAAOK,SAAWL,KAAKK,QAAL,EAAX,CAA6BL,KAAKO,IAAL,EAApC,CAEAJ,WAAaH,KAAKzD,MAAlB,CAEA,GAAI4D,aAAe,CAAnB,CAAsB,SAEtBF,cAAgBD,KAAKQ,MAAL,CAAY,CAAZ,CAAhB,CAEA;AACA,GAAIP,gBAAkB,GAAtB,CAA2B,SAE3B,GAAIA,gBAAkB,GAAtB,CAA2B,CACzBC,eAAiBF,KAAKQ,MAAL,CAAY,CAAZ,CAAjB,CAEA,GAAIN,iBAAmB,GAAnB,EAA0B,CAACE,OAAS,KAAK5G,MAAL,CAAYC,cAAZ,CAA2BgH,IAA3B,CAAgCT,IAAhC,CAAV,IAAqD,IAAnF,CAAyF,CACvF;AACA;AAEA/E,MAAMG,QAAN,CAAe2B,IAAf,CACE2D,WAAWN,OAAQ,CAAR,CAAX,CADF,CAEEM,WAAWN,OAAQ,CAAR,CAAX,CAFF,CAGEM,WAAWN,OAAQ,CAAR,CAAX,CAHF,EAKD,CATD,IASO,IAAIF,iBAAmB,GAAnB,EAA0B,CAACE,OAAS,KAAK5G,MAAL,CAAYE,cAAZ,CAA2B+G,IAA3B,CAAgCT,IAAhC,CAAV,IAAqD,IAAnF,CAAyF,CAC9F;AACA;AAEA/E,MAAMI,OAAN,CAAc0B,IAAd,CACE2D,WAAWN,OAAQ,CAAR,CAAX,CADF,CAEEM,WAAWN,OAAQ,CAAR,CAAX,CAFF,CAGEM,WAAWN,OAAQ,CAAR,CAAX,CAHF,EAKD,CATM,IASA,IAAIF,iBAAmB,GAAnB,EAA0B,CAACE,OAAS,KAAK5G,MAAL,CAAYG,UAAZ,CAAuB8G,IAAvB,CAA4BT,IAA5B,CAAV,IAAiD,IAA/E,CAAqF,CAC1F;AACA;AAEA/E,MAAMK,GAAN,CAAUyB,IAAV,CACE2D,WAAWN,OAAQ,CAAR,CAAX,CADF,CAEEM,WAAWN,OAAQ,CAAR,CAAX,CAFF,EAID,CARM,IAQA,CACL,KAAM,IAAIO,MAAJ,CAAU,sCAAwCX,IAAxC,CAA+C,GAAzD,CAAN,CACD,CACF,CAhCD,IAgCO,IAAIC,gBAAkB,GAAtB,CAA2B,CAChC,GAAI,CAACG,OAAS,KAAK5G,MAAL,CAAYM,qBAAZ,CAAkC2G,IAAlC,CAAuCT,IAAvC,CAAV,IAA4D,IAAhE,CAAsE,CACpE;AACA;AACA;AAEA/E,MAAMmD,OAAN,CACEgC,OAAQ,CAAR,CADF,CACeA,OAAQ,CAAR,CADf,CAC4BA,OAAQ,CAAR,CAD5B,CACyCA,OAAQ,EAAR,CADzC,CAEEA,OAAQ,CAAR,CAFF,CAEeA,OAAQ,CAAR,CAFf,CAE4BA,OAAQ,CAAR,CAF5B,CAEyCA,OAAQ,EAAR,CAFzC,CAGEA,OAAQ,CAAR,CAHF,CAGeA,OAAQ,CAAR,CAHf,CAG4BA,OAAQ,CAAR,CAH5B,CAGyCA,OAAQ,EAAR,CAHzC,EAKD,CAVD,IAUO,IAAI,CAACA,OAAS,KAAK5G,MAAL,CAAYK,cAAZ,CAA2B4G,IAA3B,CAAgCT,IAAhC,CAAV,IAAqD,IAAzD,CAA+D,CACpE;AACA;AACA;AAEA/E,MAAMmD,OAAN,CACEgC,OAAQ,CAAR,CADF,CACeA,OAAQ,CAAR,CADf,CAC4BA,OAAQ,CAAR,CAD5B,CACyCA,OAAQ,CAAR,CADzC,CAEEA,OAAQ,CAAR,CAFF,CAEeA,OAAQ,CAAR,CAFf,CAE4BA,OAAQ,CAAR,CAF5B,CAEyCA,OAAQ,CAAR,CAFzC,EAID,CATM,IASA,IAAI,CAACA,OAAS,KAAK5G,MAAL,CAAYO,kBAAZ,CAA+B0G,IAA/B,CAAoCT,IAApC,CAAV,IAAyD,IAA7D,CAAmE,CACxE;AACA;AACA;AAEA/E,MAAMmD,OAAN,CACEgC,OAAQ,CAAR,CADF,CACeA,OAAQ,CAAR,CADf,CAC4BA,OAAQ,CAAR,CAD5B,CACyCA,OAAQ,CAAR,CADzC,CAEE3J,SAFF,CAEaA,SAFb,CAEwBA,SAFxB,CAEmCA,SAFnC,CAGE2J,OAAQ,CAAR,CAHF,CAGeA,OAAQ,CAAR,CAHf,CAG4BA,OAAQ,CAAR,CAH5B,CAGyCA,OAAQ,CAAR,CAHzC,EAKD,CAVM,IAUA,IAAI,CAACA,OAAS,KAAK5G,MAAL,CAAYI,WAAZ,CAAwB6G,IAAxB,CAA6BT,IAA7B,CAAV,IAAkD,IAAtD,CAA4D,CACjE;AACA;AACA;AAEA/E,MAAMmD,OAAN,CACEgC,OAAQ,CAAR,CADF,CACeA,OAAQ,CAAR,CADf,CAC4BA,OAAQ,CAAR,CAD5B,CACyCA,OAAQ,CAAR,CADzC,EAGD,CARM,IAQA,CACL,KAAM,IAAIO,MAAJ,CAAU,0BAA4BX,IAA5B,CAAmC,GAA7C,CAAN,CACD,CACF,CAzCM,IAyCA,IAAIC,gBAAkB,GAAtB,CAA2B,CAChC,GAAIW,WAAYZ,KAAKa,SAAL,CAAe,CAAf,EAAkBN,IAAlB,GAAyBR,KAAzB,CAA+B,GAA/B,CAAhB,CACA,GAAIe,cAAe,EAAnB,CAAuBC,QAAU,EAAjC,CAEA,GAAIf,KAAKJ,OAAL,CAAa,GAAb,IAAsB,CAAC,CAA3B,CAA8B,CAC5BkB,aAAeF,SAAf,CACD,CAFD,IAEO,CACL,IAAK,GAAII,IAAK,CAAT,CAAYC,KAAOL,UAAUrE,MAAlC,CAA0CyE,GAAKC,IAA/C,CAAqDD,IAArD,CAA2D,CACzD,GAAIE,OAAQN,UAAWI,EAAX,EAAgBjB,KAAhB,CAAsB,GAAtB,CAAZ,CAEA,GAAImB,MAAO,CAAP,IAAe,EAAnB,CAAuBJ,aAAa/D,IAAb,CAAkBmE,MAAO,CAAP,CAAlB,EACvB,GAAIA,MAAO,CAAP,IAAe,EAAnB,CAAuBH,QAAQhE,IAAR,CAAamE,MAAO,CAAP,CAAb,EACxB,CACF,CACDjG,MAAMoE,eAAN,CAAsByB,YAAtB,CAAoCC,OAApC,EACD,CAfM,IAeA,IAAI,CAACX,OAAS,KAAK5G,MAAL,CAAYQ,cAAZ,CAA2ByG,IAA3B,CAAgCT,IAAhC,CAAV,IAAqD,IAAzD,CAA+D,CACpE;AACA;AACA;AAEA;AACA;AACA,GAAIvE,MAAO,CAAC,IAAM2E,OAAQ,CAAR,EAAYe,MAAZ,CAAmB,CAAnB,EAAsBZ,IAAtB,EAAP,EAAqCY,MAArC,CAA4C,CAA5C,CAAX,CAEAlG,MAAMO,WAAN,CAAkBC,IAAlB,EACD,CAVM,IAUA,IAAI,KAAKjC,MAAL,CAAYW,oBAAZ,CAAiCiH,IAAjC,CAAsCpB,IAAtC,CAAJ,CAAiD,CACtD;AAEA/E,MAAME,MAAN,CAAaa,aAAb,CAA2BgE,KAAKa,SAAL,CAAe,CAAf,EAAkBN,IAAlB,EAA3B,CAAqDtF,MAAMM,iBAA3D,EACD,CAJM,IAIA,IAAI,KAAK/B,MAAL,CAAYU,wBAAZ,CAAqCkH,IAArC,CAA0CpB,IAA1C,CAAJ,CAAqD,CAC1D;AAEA/E,MAAMM,iBAAN,CAAwBwB,IAAxB,CAA6BiD,KAAKa,SAAL,CAAe,CAAf,EAAkBN,IAAlB,EAA7B,EACD,CAJM,IAIA,IAAI,CAACH,OAAS,KAAK5G,MAAL,CAAYS,iBAAZ,CAA8BwG,IAA9B,CAAmCT,IAAnC,CAAV,IAAwD,IAA5D,CAAkE,CACvE;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAIlF,OAAQsF,OAAQ,CAAR,EAAYG,IAAZ,GAAmBc,WAAnB,EAAZ,CACA;;;;;;;;;;OAWApG,MAAME,MAAN,CAAaY,MAAb,CAAuBjB,QAAU,GAAV,EAAiBA,QAAU,KAAlD,CAEA,GAAIvF,UAAW0F,MAAME,MAAN,CAAaS,eAAb,EAAf,CACA,GAAIrG,QAAJ,CAAc,CACZA,SAASwG,MAAT,CAAkBd,MAAME,MAAN,CAAaY,MAA/B,CACD,CACF,CA5BM,IA4BA,CACL;AACA,GAAIiE,OAAS,IAAb,CAAmB,SAEnB,KAAM,IAAIW,MAAJ,CAAU,qBAAuBX,IAAvB,CAA8B,GAAxC,CAAN,CACD,CACF,CAED/E,MAAMmC,QAAN,GAEA,GAAIkE,WAAY,GAAI1L,OAAM2L,KAAV,EAAhB,CACAD,UAAU/F,iBAAV,CAA8B,GAAGiG,MAAH,CAAUvG,MAAMM,iBAAhB,CAA9B,CAEA,IAAK,GAAI+E,GAAI,CAAR,CAAWd,EAAIvE,MAAMC,OAAN,CAAcqB,MAAlC,CAA0C+D,EAAId,CAA9C,CAAiDc,GAAjD,CAAsD,CACpD,GAAInF,QAASF,MAAMC,OAAN,CAAeoF,CAAf,CAAb,CACA,GAAIxE,UAAWX,OAAOW,QAAtB,CACA,GAAIvC,WAAY4B,OAAO5B,SAAvB,CACA,GAAIkI,QAAU3F,SAASwD,IAAT,GAAkB,MAAhC,CAEA;AACA,GAAIxD,SAASV,QAAT,CAAkBmB,MAAlB,GAA6B,CAAjC,CAAoC,SAEpC,GAAImF,gBAAiB,GAAI9L,OAAM+L,cAAV,EAArB,CAEAD,eAAeE,YAAf,CAA4B,UAA5B,CAAwC,GAAIhM,OAAMiM,eAAV,CAA0B,GAAIC,aAAJ,CAAiBhG,SAASV,QAA1B,CAA1B,CAA+D,CAA/D,CAAxC,EAEA,GAAIU,SAAST,OAAT,CAAiBkB,MAAjB,CAA0B,CAA9B,CAAiC,CAC/BmF,eAAeE,YAAf,CAA4B,QAA5B,CAAsC,GAAIhM,OAAMiM,eAAV,CAA0B,GAAIC,aAAJ,CAAiBhG,SAAST,OAA1B,CAA1B,CAA8D,CAA9D,CAAtC,EACD,CAFD,IAEO,CACLqG,eAAeK,oBAAf,GACD,CAED,GAAIjG,SAASR,GAAT,CAAaiB,MAAb,CAAsB,CAA1B,CAA6B,CAC3BmF,eAAeE,YAAf,CAA4B,IAA5B,CAAkC,GAAIhM,OAAMiM,eAAV,CAA0B,GAAIC,aAAJ,CAAiBhG,SAASR,GAA1B,CAA1B,CAA0D,CAA1D,CAAlC,EACD,CAED;AAEA,GAAI0G,kBAAmB,EAAvB,CAEA,IAAK,GAAI9E,IAAK,CAAT,CAAY+E,MAAQ1I,UAAUgD,MAAnC,CAA2CW,GAAK+E,KAAhD,CAAuD/E,IAAvD,CAA6D,CAC3D,GAAIgF,gBAAiB3I,UAAU2D,EAAV,CAArB,CACA,GAAI3H,SAAJ,CAEA,GAAI,KAAKgE,SAAL,GAAmB,IAAvB,CAA6B,CAC3BhE,SAAW,KAAKgE,SAAL,CAAe4I,MAAf,CAAsBD,eAAezG,IAArC,CAAX,CAEA;AACA,GAAIgG,QAAUlM,QAAV,EAAsB,EAAEA,mBAAoBK,OAAMwM,iBAA5B,CAA1B,CAA0E,CACxE,GAAIC,cAAe,GAAIzM,OAAMwM,iBAAV,EAAnB,CACAC,aAAaC,IAAb,CAAkB/M,QAAlB,EACAA,SAAW8M,YAAX,CACD,CACF,CAED,GAAI,CAAC9M,QAAL,CAAe,CACbA,SAAY,CAACkM,MAAD,CAAU,GAAI7L,OAAM2M,iBAAV,EAAV,CAA0C,GAAI3M,OAAMwM,iBAAV,EAAtD,CACA7M,SAASkG,IAAT,CAAgByG,eAAezG,IAA/B,CACD,CAEDlG,SAASiN,OAAT,CAAmBN,eAAenG,MAAf,CAAwBnG,MAAM6M,aAA9B,CAA8C7M,MAAM8M,WAAvE,CAEAV,iBAAiBjF,IAAjB,CAAsBxH,QAAtB,EACD,CAED;AAEA,GAAIoN,KAAJ,CAEA,GAAIX,iBAAiBzF,MAAjB,CAA0B,CAA9B,CAAiC,CAC/B,IAAK,GAAIW,IAAK,CAAT,CAAY+E,MAAQ1I,UAAUgD,MAAnC,CAA2CW,GAAK+E,KAAhD,CAAuD/E,IAAvD,CAA6D,CAC3D,GAAIgF,gBAAiB3I,UAAU2D,EAAV,CAArB,CACAwE,eAAekB,QAAf,CAAwBV,eAAevF,UAAvC,CAAmDuF,eAAe9F,UAAlE,CAA8Ec,EAA9E,EACD,CAEDyF,KAAQ,CAAClB,MAAD,CAAU,GAAI7L,OAAMiN,IAAV,CAAenB,cAAf,CAA+BM,gBAA/B,CAAV,CAA6D,GAAIpM,OAAMkN,YAAV,CAAuBpB,cAAvB,CAAuCM,gBAAvC,CAArE,CACD,CAPD,IAOO,CACLW,KAAQ,CAAClB,MAAD,CAAU,GAAI7L,OAAMiN,IAAV,CAAenB,cAAf,CAA+BM,iBAAkB,CAAlB,CAA/B,CAAV,CAAkE,GAAIpM,OAAMkN,YAAV,CAAuBpB,cAAvB,CAAuCM,iBAAkB,CAAlB,CAAvC,CAA1E,CACD,CAEDW,KAAKlH,IAAL,CAAYN,OAAOM,IAAnB,CAEA6F,UAAUhL,GAAV,CAAcqM,IAAd,EACD,CAEDjD,QAAQqD,OAAR,CAAgB,WAAhB,EAEA,MAAOzB,UAAP,CACD,CAtjByB,CAA5B,C;;;;;;;ACnCA;;;;GAMA1L,MAAMoN,SAAN,CAAkB,SAAUC,OAAV,CAAmBC,OAAnB,CAA4BC,WAA5B,CAAyC,CACzD,KAAKF,OAAL,CAAeA,OAAf,CACA,KAAKC,OAAL,CAAeA,OAAf,CACA,KAAKC,WAAL,CAAmBA,WAAnB,CACD,CAJD,CAMAvN,MAAMoN,SAAN,CAAgB5I,SAAhB,CAA4B,CAE1BrF,YAAaa,MAAMoN,SAFO,CAI1B9K,KAAM,SAAUI,GAAV,CAAe+B,MAAf,CAAuBC,UAAvB,CAAmCC,OAAnC,CAA4C,CAChD,GAAIC,OAAQ,IAAZ,CAEA,GAAIvC,QAAS,GAAIrC,OAAM6E,UAAV,EAAb,CACAxC,OAAOyC,OAAP,CAAe,KAAKC,IAApB,EACA1C,OAAOC,IAAP,CAAYI,GAAZ,CAAiB,SAAUsC,IAAV,CAAgB,CAC/BP,OAAOG,MAAMK,KAAN,CAAYD,IAAZ,CAAP,EACD,CAFD,CAEGN,UAFH,CAEeC,OAFf,EAGD,CAZyB,CAc1B;;;;IAKAM,MAAO,SAAUD,IAAV,CAAgB,CACrB,GAAIkF,OAAQlF,KAAKmF,KAAL,CAAW,IAAX,CAAZ,CACA,GAAIqD,MAAO,EAAX,CACA,GAAIC,mBAAoB,KAAxB,CACA,GAAIC,eAAgB,EAApB,CAEA,IAAK,GAAIhD,GAAI,CAAb,CAAgBA,EAAIR,MAAMvD,MAA1B,CAAkC+D,GAAlC,CAAuC,CACrC,GAAIN,MAAOF,MAAOQ,CAAP,CAAX,CACAN,KAAOA,KAAKO,IAAL,EAAP,CAEA,GAAIP,KAAKzD,MAAL,GAAgB,CAAhB,EAAqByD,KAAKQ,MAAL,CAAY,CAAZ,IAAmB,GAA5C,CAAiD,CAC/C;AACA,SACD,CAED,GAAI+C,KAAMvD,KAAKJ,OAAL,CAAa,GAAb,CAAV,CAEA,GAAI4D,KAAOD,KAAO,CAAR,CAAavD,KAAKa,SAAL,CAAe,CAAf,CAAkB0C,GAAlB,CAAb,CAAsCvD,IAAhD,CACAwD,IAAMA,IAAInC,WAAJ,EAAN,CAEA,GAAIvG,OAASyI,KAAO,CAAR,CAAavD,KAAKa,SAAL,CAAe0C,IAAM,CAArB,CAAb,CAAuC,EAAnD,CACAzI,MAAQA,MAAMyF,IAAN,EAAR,CAEA,GAAIiD,MAAQ,QAAZ,CAAsB,CACpB;AAEAJ,KAAO,CAAE3H,KAAMX,KAAR,CAAP,CACAwI,cAAexI,KAAf,EAAyBsI,IAAzB,CACD,CALD,IAKO,IAAIA,IAAJ,CAAU,CACf,GAAII,MAAQ,IAAR,EAAgBA,MAAQ,IAAxB,EAAgCA,MAAQ,IAA5C,CAAkD,CAChD,GAAIC,IAAK3I,MAAMiF,KAAN,CAAYsD,iBAAZ,CAA+B,CAA/B,CAAT,CACAD,KAAMI,GAAN,EAAc,CAAE9C,WAAW+C,GAAG,CAAH,CAAX,CAAF,CAAqB/C,WAAW+C,GAAG,CAAH,CAAX,CAArB,CAAwC/C,WAAW+C,GAAG,CAAH,CAAX,CAAxC,CAAd,CACD,CAHD,IAGO,CACLL,KAAMI,GAAN,EAAc1I,KAAd,CACD,CACF,CACF,CAED,GAAI4I,iBAAkB,GAAI9N,OAAMoN,SAAN,CAAgBW,eAApB,CAAoC,KAAKV,OAAzC,CAAkD,KAAKC,OAAvD,CAAtB,CACAQ,gBAAgB3I,YAAhB,CAA6BuI,aAA7B,EACA,MAAOI,gBAAP,CACD,CAIH;;;;;;;;;;;;;;;GAhE4B,CAA5B,CAiFA9N,MAAMoN,SAAN,CAAgBW,eAAhB,CAAkC,SAAUV,OAAV,CAAmBC,OAAnB,CAA4B,CAC5D,KAAKD,OAAL,CAAeA,OAAf,CACA,KAAKC,OAAL,CAAeA,OAAf,CACA,KAAKI,aAAL,CAAqB,EAArB,CACA,KAAK/J,SAAL,CAAiB,EAAjB,CACA,KAAKqK,cAAL,CAAsB,EAAtB,CACA,KAAKC,UAAL,CAAkB,EAAlB,CAEA,KAAKC,IAAL,CAAa,KAAKZ,OAAL,EAAgB,KAAKA,OAAL,CAAaY,IAA9B,CAAsC,KAAKZ,OAAL,CAAaY,IAAnD,CAA0DlO,MAAMmO,SAA5E,CACA,KAAKC,IAAL,CAAa,KAAKd,OAAL,EAAgB,KAAKA,OAAL,CAAac,IAA9B,CAAsC,KAAKd,OAAL,CAAac,IAAnD,CAA0DpO,MAAMqO,cAA5E,CACD,CAVD,CAYArO,MAAMoN,SAAN,CAAgBW,eAAhB,CAAgCvJ,SAAhC,CAA4C,CAE1CrF,YAAaa,MAAMoN,SAAN,CAAgBW,eAFa,CAI1C5I,aAAc,SAAUuI,aAAV,CAAyB,CACrC,KAAKA,aAAL,CAAqB,KAAKY,OAAL,CAAaZ,aAAb,CAArB,CACA,KAAK/J,SAAL,CAAiB,EAAjB,CACA,KAAKqK,cAAL,CAAsB,EAAtB,CACA,KAAKC,UAAL,CAAkB,EAAlB,CACD,CATyC,CAW1CK,QAAS,SAAUZ,aAAV,CAAyB,CAChC,GAAI,CAAC,KAAKJ,OAAV,CAAmB,MAAOI,cAAP,CAEnB,GAAIa,WAAY,EAAhB,CAEA,IAAK,GAAIC,GAAT,GAAed,cAAf,CAA8B,CAC5B;AAEA,GAAIe,KAAMf,cAAec,EAAf,CAAV,CAEA,GAAIE,QAAS,EAAb,CAEAH,UAAWC,EAAX,EAAkBE,MAAlB,CAEA,IAAK,GAAIC,KAAT,GAAiBF,IAAjB,CAAsB,CACpB,GAAIG,MAAO,IAAX,CACA,GAAI1J,OAAQuJ,IAAKE,IAAL,CAAZ,CACA,GAAIE,OAAQF,KAAKlD,WAAL,EAAZ,CAEA,OAAQoD,KAAR,EACE,IAAK,IAAL,CACA,IAAK,IAAL,CACA,IAAK,IAAL,CAEE;AAEA,GAAI,KAAKvB,OAAL,EAAgB,KAAKA,OAAL,CAAawB,YAAjC,CAA+C,CAC7C5J,MAAQ,CAAEA,MAAO,CAAP,EAAa,GAAf,CAAoBA,MAAO,CAAP,EAAa,GAAjC,CAAsCA,MAAO,CAAP,EAAa,GAAnD,CAAR,CACD,CAED,GAAI,KAAKoI,OAAL,EAAgB,KAAKA,OAAL,CAAayB,cAAjC,CAAiD,CAC/C,GAAI7J,MAAO,CAAP,IAAe,CAAf,EAAoBA,MAAO,CAAP,IAAe,CAAnC,EAAwCA,MAAO,CAAP,IAAe,CAA3D,CAA8D,CAC5D;AAEA0J,KAAO,KAAP,CACD,CACF,CAED,MAEF,IAAK,GAAL,CAEE;AACA;AACA;AAEA,GAAI,KAAKtB,OAAL,EAAgB,KAAKA,OAAL,CAAa0B,kBAAjC,CAAqD,CACnD9J,MAAQ,EAAIA,KAAZ,CACD,CAED,MAEF,QAEE,MAnCJ,CAsCA,GAAI0J,IAAJ,CAAU,CACRF,OAAQG,KAAR,EAAkB3J,KAAlB,CACD,CACF,CACF,CAED,MAAOqJ,UAAP,CACD,CA3EyC,CA6E1CU,QAAS,UAAY,CACnB,IAAK,GAAIT,GAAT,GAAe,MAAKd,aAApB,CAAmC,CACjC,KAAKnB,MAAL,CAAYiC,EAAZ,EACD,CACF,CAjFyC,CAmF1CU,SAAU,SAAUC,YAAV,CAAwB,CAChC,MAAO,MAAKlB,UAAL,CAAiBkB,YAAjB,CAAP,CACD,CArFyC,CAuF1CC,WAAY,UAAY,CACtB,GAAI1I,OAAQ,CAAZ,CAEA,IAAK,GAAI8H,GAAT,GAAe,MAAKd,aAApB,CAAmC,CACjC,KAAKM,cAAL,CAAqBtH,KAArB,EAA+B,KAAK6F,MAAL,CAAYiC,EAAZ,CAA/B,CACA,KAAKP,UAAL,CAAiBO,EAAjB,EAAwB9H,KAAxB,CACAA,QACD,CAED,MAAO,MAAKsH,cAAZ,CACD,CAjGyC,CAmG1CzB,OAAQ,SAAU4C,YAAV,CAAwB,CAC9B,GAAI,KAAKxL,SAAL,CAAgBwL,YAAhB,IAAmCtO,SAAvC,CAAkD,CAChD,KAAKwO,eAAL,CAAqBF,YAArB,EACD,CAED,MAAO,MAAKxL,SAAL,CAAgBwL,YAAhB,CAAP,CACD,CAzGyC,CA2G1CE,gBAAiB,SAAUF,YAAV,CAAwB,CACvC;AAEA,GAAIV,KAAM,KAAKf,aAAL,CAAoByB,YAApB,CAAV,CACA,GAAIG,QAAS,CAEXzJ,KAAMsJ,YAFK,CAGXjB,KAAM,KAAKA,IAHA,CAAb,CAOA,IAAK,GAAIS,KAAT,GAAiBF,IAAjB,CAAsB,CACpB,GAAIvJ,OAAQuJ,IAAKE,IAAL,CAAZ,CAEA,OAAQA,KAAKlD,WAAL,EAAR,EACE;AAEA,IAAK,IAAL,CAEE;AAEA6D,OAAQ,SAAR,EAAsB,GAAItP,OAAMuP,KAAV,GAAkBC,SAAlB,CAA4BtK,KAA5B,CAAtB,CAEA,MAEF,IAAK,IAAL,CAEE;AAEAoK,OAAQ,SAAR,EAAsB,GAAItP,OAAMuP,KAAV,GAAkBC,SAAlB,CAA4BtK,KAA5B,CAAtB,CAEA,MAEF,IAAK,IAAL,CAEE;AACAoK,OAAQ,UAAR,EAAuB,GAAItP,OAAMuP,KAAV,GAAkBC,SAAlB,CAA4BtK,KAA5B,CAAvB,CAEA,MAEF,IAAK,QAAL,CAEE;AAEAoK,OAAQ,KAAR,EAAkB,KAAK9P,WAAL,CAAiB,KAAK6N,OAAL,CAAenI,KAAhC,CAAlB,CACAoK,OAAQ,KAAR,EAAgBG,KAAhB,CAAwB,KAAKrB,IAA7B,CACAkB,OAAQ,KAAR,EAAgBI,KAAhB,CAAwB,KAAKtB,IAA7B,CAEA,MAEF,IAAK,IAAL,CAEE;AACA;AAEAkB,OAAO,WAAP,EAAsBpK,KAAtB,CAEA,MAEF,IAAK,GAAL,CAEE;AACA;AACA;AAEA,GAAIA,MAAQ,CAAZ,CAAe,CACboK,OAAO,aAAP,EAAwB,IAAxB,CACAA,OAAO,SAAP,EAAoBpK,KAApB,CACD,CAED,MAEF,QACE,MA3DJ,CA6DD,CAED,GAAIoK,OAAQ,SAAR,CAAJ,CAAyB,CACvB,GAAI,CAACA,OAAQ,SAAR,CAAL,CAA0BA,OAAQ,SAAR,EAAsBA,OAAQ,SAAR,CAAtB,CAC1BA,OAAQ,OAAR,EAAoBA,OAAQ,SAAR,CAApB,CACD,CAED,KAAK3L,SAAL,CAAgBwL,YAAhB,EAAiC,GAAInP,OAAM2M,iBAAV,CAA4B2C,MAA5B,CAAjC,CACA,MAAO,MAAK3L,SAAL,CAAgBwL,YAAhB,CAAP,CACD,CA/LyC,CAiM1C3P,YAAa,SAAUkD,GAAV,CAAeiN,OAAf,CAAwBlL,MAAxB,CAAgCE,OAAhC,CAAyC,CACpD,GAAIpF,QAAJ,CACA,GAAI8C,QAASrC,MAAM4P,MAAN,CAAaC,QAAb,CAAsBC,GAAtB,CAA0BpN,GAA1B,CAAb,CAEA,GAAIL,SAAW,IAAf,CAAqB,CACnB9C,QAAU8C,OAAOC,IAAP,CAAYI,GAAZ,CAAiB+B,MAAjB,CAAV,CACD,CAFD,IAEO,CACLlF,QAAU,GAAIS,OAAM+P,OAAV,EAAV,CAEA1N,OAAS,GAAIrC,OAAMgQ,WAAV,EAAT,CACA3N,OAAOkL,WAAP,CAAqB,KAAKA,WAA1B,CACAlL,OAAOC,IAAP,CAAYI,GAAZ,CAAiB,SAAUuN,KAAV,CAAiB,CAChC1Q,QAAQ0Q,KAAR,CAAgBjQ,MAAMoN,SAAN,CAAgB8C,iBAAhB,CAAkCD,KAAlC,CAAhB,CACA1Q,QAAQ4Q,WAAR,CAAsB,IAAtB,CAEA,GAAI1L,MAAJ,CAAYA,OAAOlF,OAAP,EACb,CALD,EAMD,CAEDA,QAAQoQ,OAAR,CAAkBA,OAAlB,CAEA,MAAOpQ,QAAP,CACD,CAvNyC,CAA5C,CA2NAS,MAAMoN,SAAN,CAAgB8C,iBAAhB,CAAoC,SAAUD,KAAV,CAAiB,CACnD,GAAI,CAACjQ,MAAMoQ,IAAN,CAAWC,YAAX,CAAwBJ,MAAMK,KAA9B,CAAD,EAAyC,CAACtQ,MAAMoQ,IAAN,CAAWC,YAAX,CAAwBJ,MAAMM,MAA9B,CAA9C,CAAqF,CACnF,GAAIC,QAASpP,SAASqP,aAAT,CAAuB,QAAvB,CAAb,CACAD,OAAOF,KAAP,CAAetQ,MAAMoN,SAAN,CAAgBsD,sBAAhB,CAAuCT,MAAMK,KAA7C,CAAf,CACAE,OAAOD,MAAP,CAAgBvQ,MAAMoN,SAAN,CAAgBsD,sBAAhB,CAAuCT,MAAMM,MAA7C,CAAhB,CAEA,GAAII,KAAMH,OAAOI,UAAP,CAAkB,IAAlB,CAAV,CACAD,IAAIE,SAAJ,CAAcZ,KAAd,CAAqB,CAArB,CAAwB,CAAxB,CAA2BA,MAAMK,KAAjC,CAAwCL,MAAMM,MAA9C,CAAsD,CAAtD,CAAyD,CAAzD,CAA4DC,OAAOF,KAAnE,CAA0EE,OAAOD,MAAjF,EACA,MAAOC,OAAP,CACD,CAED,MAAOP,MAAP,CACD,CAZD,CAcAjQ,MAAMoN,SAAN,CAAgBsD,sBAAhB,CAAyC,SAAUvQ,CAAV,CAAa,CACpD,EAAEA,CAAF,CAEA,IAAK,GAAIuK,GAAI,CAAb,CAAgBA,EAAI,EAApB,CAAwBA,IAAM,CAA9B,CAAiC,CAC/BvK,EAAIA,EAAIA,GAAKuK,CAAb,CACD,CAED,MAAOvK,GAAI,CAAX,CACD,CARD,CAUA,mE;;;;;;;AC5VA;;;;;GAOAH,MAAMV,YAAN,CAAqB,SAAUmE,OAAV,CAAmB,CACtC,KAAKA,OAAL,CAAgBA,UAAY5C,SAAb,CAA0B4C,OAA1B,CAAoCzD,MAAM0D,qBAAzD,CACD,CAFD,CAIA1D,MAAMV,YAAN,CAAmBkF,SAAnB,CAA+B,CAE7BrF,YAAaa,MAAMV,YAFU,CAI7BgD,KAAM,SAAUI,GAAV,CAAeoO,MAAf,CAAuBrM,MAAvB,CAA+BC,UAA/B,CAA2CC,OAA3C,CAAoD,CACxD,GAAIC,OAAQ,IAAZ,CAEA,GAAInC,WAAY,GAAIzC,OAAMoN,SAAV,CAAoB1K,IAAI6I,MAAJ,CAAW,CAAX,CAAc7I,IAAIqO,WAAJ,CAAgB,GAAhB,EAAuB,CAArC,CAApB,CAAhB,CACAtO,UAAUH,IAAV,CAAewO,MAAf,CAAuB,SAAUnN,SAAV,CAAqB,CAC1C,GAAIqN,kBAAmBrN,SAAvB,CACAqN,iBAAiB/B,OAAjB,GAEA,GAAI5M,QAAS,GAAIrC,OAAM6E,UAAV,CAAqBD,MAAMnB,OAA3B,CAAb,CACApB,OAAOyC,OAAP,CAAe,KAAKC,IAApB,EACA;AACA1C,OAAOC,IAAP,CAAYI,GAAZ,CAAiB,SAAUsC,IAAV,CAAgB,CAC/B,GAAIO,QAASX,MAAMK,KAAN,CAAYD,IAAZ,CAAb,CAEAO,OAAO0L,QAAP,CAAgB,SAAU1L,MAAV,CAAkB,CAChC,GAAIA,iBAAkBvF,OAAMiN,IAA5B,CAAkC,CAChC,GAAI1H,OAAO5F,QAAP,CAAgBkG,IAApB,CAA0B,CACxB,GAAIlG,UAAWqR,iBAAiBzE,MAAjB,CAAwBhH,OAAO5F,QAAP,CAAgBkG,IAAxC,CAAf,CAEA,GAAIlG,QAAJ,CAAc4F,OAAO5F,QAAP,CAAkBA,QAAlB,CACf,CACF,CACF,CARD,EAUA8E,OAAOc,MAAP,EACD,CAdD,CAcGb,UAdH,CAceC,OAdf,EAeD,CAtBD,CAsBGD,UAtBH,CAsBeC,OAtBf,EAuBD,CA/B4B,CAiC7B;;;;;IAOAM,MAAO,SAAUiM,IAAV,CAAgBC,cAAhB,CAAgC,CACrC,QAASC,OAAT,CAAiBjR,CAAjB,CAAoBC,CAApB,CAAuBC,CAAvB,CAA0B,CACxB,MAAO,IAAIL,OAAMqR,OAAV,CAAkBlR,CAAlB,CAAqBC,CAArB,CAAwBC,CAAxB,CAAP,CACD,CAED,QAASiR,GAAT,CAAaC,CAAb,CAAgBC,CAAhB,CAAmB,CACjB,MAAO,IAAIxR,OAAMyR,OAAV,CAAkBF,CAAlB,CAAqBC,CAArB,CAAP,CACD,CAED,QAASE,MAAT,CAAgB3J,CAAhB,CAAmBC,CAAnB,CAAsBC,CAAtB,CAAyBxC,OAAzB,CAAkC,CAChC,MAAO,IAAIzF,OAAM2R,KAAV,CAAgB5J,CAAhB,CAAmBC,CAAnB,CAAsBC,CAAtB,CAAyBxC,OAAzB,CAAP,CACD,CAED,GAAImM,aAAc,CAAlB,CAEA,QAASC,MAAT,CAAgBC,QAAhB,CAA0B3C,YAA1B,CAAwC,CACtC,GAAI3J,SAASmB,MAAT,CAAkB,CAAtB,CAAyB,CACvBT,SAASV,QAAT,CAAoBA,QAApB,CAEAU,SAAS6L,aAAT,GACA7L,SAAS8L,kBAAT,GACA9L,SAAS+L,qBAAT,GAEA1M,OAAO7E,GAAP,CAAWqM,IAAX,EAEA7G,SAAW,GAAIlG,OAAMkS,QAAV,EAAX,CACAnF,KAAO,GAAI/M,OAAMiN,IAAV,CAAe/G,QAAf,CAAyBvG,QAAzB,CAAP,CACD,CAED,GAAImS,WAAajR,SAAjB,CAA4BkM,KAAKlH,IAAL,CAAYiM,QAAZ,CAE5B,GAAI3C,eAAiBtO,SAArB,CAAgC,CAC9BlB,SAAW,GAAIK,OAAMmS,mBAAV,EAAX,CACAxS,SAASkG,IAAT,CAAgBsJ,YAAhB,CAEApC,KAAKpN,QAAL,CAAgBA,QAAhB,CACD,CACF,CAED,GAAIyS,OAAQ,GAAIpS,OAAM2L,KAAV,EAAZ,CACA,GAAIpG,QAAS6M,KAAb,CAEA,GAAIlM,UAAW,GAAIlG,OAAMkS,QAAV,EAAf,CACA,GAAIvS,UAAW,GAAIK,OAAMmS,mBAAV,EAAf,CACA,GAAIpF,MAAO,GAAI/M,OAAMiN,IAAV,CAAe/G,QAAf,CAAyBvG,QAAzB,CAAX,CAEA,GAAI6F,UAAW,EAAf,CACA,GAAIC,SAAU,EAAd,CACA,GAAIC,KAAM,EAAV,CAEA,QAAS2M,SAAT,CAAmBtK,CAAnB,CAAsBC,CAAtB,CAAyBC,CAAzB,CAA4BqK,YAA5B,CAA0C,CACxC,GAAIA,eAAiBzR,SAArB,CAAgC,CAC9BqF,SAASqM,KAAT,CAAepL,IAAf,CAAoBuK,MAClB/J,SAASI,CAAT,GAAe6J,YAAc,CAA7B,CADkB,CAElBjK,SAASK,CAAT,GAAe4J,YAAc,CAA7B,CAFkB,CAGlBjK,SAASM,CAAT,GAAe2J,YAAc,CAA7B,CAHkB,CAApB,EAKD,CAND,IAMO,CACL1L,SAASqM,KAAT,CAAepL,IAAf,CAAoBuK,MAClB/J,SAASI,CAAT,GAAe6J,YAAc,CAA7B,CADkB,CAElBjK,SAASK,CAAT,GAAe4J,YAAc,CAA7B,CAFkB,CAGlBjK,SAASM,CAAT,GAAe2J,YAAc,CAA7B,CAHkB,CAIlB,CACEnM,QAASkC,SAAS2K,aAAc,CAAd,CAAT,EAA8B,CAAvC,EAA2CrL,KAA3C,EADF,CAEExB,QAASkC,SAAS2K,aAAc,CAAd,CAAT,EAA8B,CAAvC,EAA2CrL,KAA3C,EAFF,CAGExB,QAASkC,SAAS2K,aAAc,CAAd,CAAT,EAA8B,CAAvC,EAA2CrL,KAA3C,EAHF,CAJkB,CAApB,EAUD,CACF,CAED,QAASuL,QAAT,CAAkBzK,CAAlB,CAAqBC,CAArB,CAAwBC,CAAxB,CAA2B,CACzB/B,SAASuM,aAAT,CAAwB,CAAxB,EAA4BtL,IAA5B,CAAiC,CAC/BzB,IAAKiC,SAASI,CAAT,EAAc,CAAnB,EAAuBd,KAAvB,EAD+B,CAE/BvB,IAAKiC,SAASK,CAAT,EAAc,CAAnB,EAAuBf,KAAvB,EAF+B,CAG/BvB,IAAKiC,SAASM,CAAT,EAAc,CAAnB,EAAuBhB,KAAvB,EAH+B,CAAjC,EAKD,CAED,QAASyL,iBAAT,CAA2BH,KAA3B,CAAkC7M,GAAlC,CAAuC4M,YAAvC,CAAqD,CACnD,GAAIC,MAAO,CAAP,IAAe1R,SAAnB,CAA8B,CAC5BwR,SAASE,MAAO,CAAP,CAAT,CAAqBA,MAAO,CAAP,CAArB,CAAiCA,MAAO,CAAP,CAAjC,CAA6CD,YAA7C,EAEA,GAAI,EAAE5M,MAAQ7E,SAAV,GAAwB6E,IAAIiB,MAAJ,CAAa,CAAzC,CAA4C,CAC1C6L,QAAQ9M,IAAK,CAAL,CAAR,CAAkBA,IAAK,CAAL,CAAlB,CAA4BA,IAAK,CAAL,CAA5B,EACD,CACF,CAND,IAMO,CACL,GAAI,EAAE4M,eAAiBzR,SAAnB,GAAiCyR,aAAa3L,MAAb,CAAsB,CAA3D,CAA8D,CAC5D0L,SAASE,MAAO,CAAP,CAAT,CAAqBA,MAAO,CAAP,CAArB,CAAiCA,MAAO,CAAP,CAAjC,CAA6C,CAAED,aAAc,CAAd,CAAF,CAAqBA,aAAc,CAAd,CAArB,CAAwCA,aAAc,CAAd,CAAxC,CAA7C,EACAD,SAASE,MAAO,CAAP,CAAT,CAAqBA,MAAO,CAAP,CAArB,CAAiCA,MAAO,CAAP,CAAjC,CAA6C,CAAED,aAAc,CAAd,CAAF,CAAqBA,aAAc,CAAd,CAArB,CAAwCA,aAAc,CAAd,CAAxC,CAA7C,EACD,CAHD,IAGO,CACLD,SAASE,MAAO,CAAP,CAAT,CAAqBA,MAAO,CAAP,CAArB,CAAiCA,MAAO,CAAP,CAAjC,EACAF,SAASE,MAAO,CAAP,CAAT,CAAqBA,MAAO,CAAP,CAArB,CAAiCA,MAAO,CAAP,CAAjC,EACD,CAED,GAAI,EAAE7M,MAAQ7E,SAAV,GAAwB6E,IAAIiB,MAAJ,CAAa,CAAzC,CAA4C,CAC1C6L,QAAQ9M,IAAK,CAAL,CAAR,CAAkBA,IAAK,CAAL,CAAlB,CAA4BA,IAAK,CAAL,CAA5B,EACA8M,QAAQ9M,IAAK,CAAL,CAAR,CAAkBA,IAAK,CAAL,CAAlB,CAA4BA,IAAK,CAAL,CAA5B,EACD,CACF,CACF,CAED;AAEA,GAAI7B,gBAAiB,+DAArB,CAEA;AAEA,GAAIC,gBAAiB,gEAArB,CAEA;AAEA,GAAIC,YAAa,4CAAjB,CAEA;AAEA,GAAI4O,eAAgB,gCAApB,CAEA;AAEA,GAAIC,eAAgB,oEAApB,CAEA;AAEA,GAAIC,eAAgB,gGAApB,CAEA;AAEA,GAAIC,eAAgB,4EAApB,CAEA;AAEA,GAAI5I,OAAQgH,KAAK/G,KAAL,CAAW,IAAX,CAAZ,CAEA,IAAK,GAAIO,GAAI,CAAb,CAAgBA,EAAIR,MAAMvD,MAA1B,CAAkC+D,GAAlC,CAAuC,CACrC,GAAIN,MAAOF,MAAOQ,CAAP,CAAX,CACAN,KAAOA,KAAKO,IAAL,EAAP,CAEA,GAAIH,OAAJ,CAEA,GAAIJ,KAAKzD,MAAL,GAAgB,CAAhB,EAAqByD,KAAKQ,MAAL,CAAY,CAAZ,IAAmB,GAA5C,CAAiD,CAC/C,SACD,CAFD,IAEO,IAAI,CAACJ,OAAS3G,eAAegH,IAAf,CAAoBT,IAApB,CAAV,IAAyC,IAA7C,CAAmD,CACxD;AAEA5E,SAAS2B,IAAT,CAAciK,OACZtG,WAAWN,OAAQ,CAAR,CAAX,CADY,CAEZM,WAAWN,OAAQ,CAAR,CAAX,CAFY,CAGZM,WAAWN,OAAQ,CAAR,CAAX,CAHY,CAAd,EAKD,CARM,IAQA,IAAI,CAACA,OAAS1G,eAAe+G,IAAf,CAAoBT,IAApB,CAAV,IAAyC,IAA7C,CAAmD,CACxD;AAEA3E,QAAQ0B,IAAR,CAAaiK,OACXtG,WAAWN,OAAQ,CAAR,CAAX,CADW,CAEXM,WAAWN,OAAQ,CAAR,CAAX,CAFW,CAGXM,WAAWN,OAAQ,CAAR,CAAX,CAHW,CAAb,EAKD,CARM,IAQA,IAAI,CAACA,OAASzG,WAAW8G,IAAX,CAAgBT,IAAhB,CAAV,IAAqC,IAAzC,CAA+C,CACpD;AAEA1E,IAAIyB,IAAJ,CAASmK,GACPxG,WAAWN,OAAQ,CAAR,CAAX,CADO,CAEPM,WAAWN,OAAQ,CAAR,CAAX,CAFO,CAAT,EAID,CAPM,IAOA,IAAI,CAACA,OAASmI,cAAc9H,IAAd,CAAmBT,IAAnB,CAAV,IAAwC,IAA5C,CAAkD,CACvD;AAEAsI,iBAAiB,CAAElI,OAAQ,CAAR,CAAF,CAAeA,OAAQ,CAAR,CAAf,CAA4BA,OAAQ,CAAR,CAA5B,CAAyCA,OAAQ,CAAR,CAAzC,CAAjB,EACD,CAJM,IAIA,IAAI,CAACA,OAASoI,cAAc/H,IAAd,CAAmBT,IAAnB,CAAV,IAAwC,IAA5C,CAAkD,CACvD;AAEAsI,iBACE,CAAElI,OAAQ,CAAR,CAAF,CAAeA,OAAQ,CAAR,CAAf,CAA4BA,OAAQ,CAAR,CAA5B,CAAyCA,OAAQ,EAAR,CAAzC,CADF,CAC2D;AACzD,CAAEA,OAAQ,CAAR,CAAF,CAAeA,OAAQ,CAAR,CAAf,CAA4BA,OAAQ,CAAR,CAA5B,CAAyCA,OAAQ,EAAR,CAAzC,CAAwD;AAF1D,EAID,CAPM,IAOA,IAAI,CAACA,OAASqI,cAAchI,IAAd,CAAmBT,IAAnB,CAAV,IAAwC,IAA5C,CAAkD,CACvD;AAEAsI,iBACE,CAAElI,OAAQ,CAAR,CAAF,CAAeA,OAAQ,CAAR,CAAf,CAA4BA,OAAQ,EAAR,CAA5B,CAA0CA,OAAQ,EAAR,CAA1C,CADF,CAC4D;AAC1D,CAAEA,OAAQ,CAAR,CAAF,CAAeA,OAAQ,CAAR,CAAf,CAA4BA,OAAQ,EAAR,CAA5B,CAA0CA,OAAQ,EAAR,CAA1C,CAFF,CAE4D;AAC1D,CAAEA,OAAQ,CAAR,CAAF,CAAeA,OAAQ,CAAR,CAAf,CAA4BA,OAAQ,EAAR,CAA5B,CAA0CA,OAAQ,EAAR,CAA1C,CAAyD;AAH3D,EAKD,CARM,IAQA,IAAI,CAACA,OAASsI,cAAcjI,IAAd,CAAmBT,IAAnB,CAAV,IAAwC,IAA5C,CAAkD,CACvD;AAEAsI,iBACE,CAAElI,OAAQ,CAAR,CAAF,CAAeA,OAAQ,CAAR,CAAf,CAA4BA,OAAQ,CAAR,CAA5B,CAAyCA,OAAQ,EAAR,CAAzC,CADF,CAC2D;AACzD,EAFF,CAEO;AACL,CAAEA,OAAQ,CAAR,CAAF,CAAeA,OAAQ,CAAR,CAAf,CAA4BA,OAAQ,CAAR,CAA5B,CAAyCA,OAAQ,EAAR,CAAzC,CAAwD;AAH1D,EAKD,CARM,IAQA,IAAI,MAAMgB,IAAN,CAAWpB,IAAX,CAAJ,CAAsB,CAC3B;AAEAyH,QACAD,YAAcA,YAAcpM,SAASmB,MAArC,CACAnB,SAAW,EAAX,CACAD,OAAS,GAAIvF,OAAM+S,QAAV,EAAT,CACAxN,OAAOM,IAAP,CAAcuE,KAAKa,SAAL,CAAe,CAAf,EAAkBN,IAAlB,EAAd,CACAyH,MAAM1R,GAAN,CAAU6E,MAAV,EACD,CATM,IASA,IAAI,MAAMiG,IAAN,CAAWpB,IAAX,CAAJ,CAAsB,CAC3B;AAEAyH,MAAMzH,KAAKa,SAAL,CAAe,CAAf,EAAkBN,IAAlB,EAAN,CAAgC9J,SAAhC,EACD,CAJM,IAIA,IAAI,WAAW2K,IAAX,CAAgBpB,IAAhB,CAAJ,CAA2B,CAChC;AAEAyH,MAAMhR,SAAN,CAAiBuJ,KAAKa,SAAL,CAAe,CAAf,EAAkBN,IAAlB,EAAjB,EACD,CAJM,IAIA,IAAI,WAAWa,IAAX,CAAgBpB,IAAhB,CAAJ,CAA2B,CAChC;AAEA,GAAI+G,cAAJ,CAAoB,CAClB,GAAI6B,SAAU5I,KAAKa,SAAL,CAAe,CAAf,CAAd,CACA+H,QAAUA,QAAQrI,IAAR,EAAV,CACAwG,eAAe6B,OAAf,EACD,CACF,CARM,IAQA,IAAI,MAAMxH,IAAN,CAAWpB,IAAX,CAAJ,CAAsB,CAE3B;AAED,CAJM,IAIA,CACLN,QAAQmJ,GAAR,CAAY,sCAAwC7I,IAApD,EACD,CACF,CAED;AACAyH,MAAMhR,SAAN,CAAiBA,SAAjB,EAEA,MAAOuR,MAAP,CACD,CAIH;AAlR+B,CAA/B,C;;;;;;;ACXA;;;;;;;GASApS,MAAMkT,WAAN,CAAoB,SAAUC,QAAV,CAAoBC,OAApB,CAA6B9F,OAA7B,CAAsC,CACxD;AAEA8F,QAAWA,UAAYvS,SAAb,CAA0B,YAA1B,CAAyCuS,OAAnD,CAEA;AACA;AACA;AAEA,GAAI,CAAC9F,OAAL,CAAcA,QAAU,EAAV,CAEd;AAEA,GAAI+F,aAAc,CAAC/F,QAAQ,YAAR,CAAD,CAAyB,IAAzB,CAAgCA,QAAQ,YAAR,CAAlD,CAAwE;AACxE,GAAIgG,QAAS,CAAChG,QAAQ,OAAR,CAAD,CAAoB,CAApB,CAAwBA,QAAQ,OAAR,CAArC,CACA,GAAIiG,QAAS,CAACjG,QAAQ,OAAR,CAAD,CAAoB,KAApB,CAA4BA,QAAQ,OAAR,CAAzC,CAA0D;AAC1D,GAAIkG,QAAS,CAAClG,QAAQ,OAAR,CAAD,CAAoB,KAApB,CAA4BA,QAAQ,OAAR,CAAzC,CAA0D;AAC1D,GAAImG,QAAS,CAACnG,QAAQ,OAAR,CAAD,CAAoB,KAApB,CAA4BA,QAAQ,OAAR,CAAzC,CAA0D;AAC1D,GAAIoG,SAAU,CAACpG,QAAQ,QAAR,CAAD,CAAqB,KAArB,CAA6BA,QAAQ,QAAR,CAA3C,CAA6D;AAE7D,GAAIqG,eAAgB,KAApB,CAEA,GAAIrD,MAAJ,CAAWC,MAAX,CAEA,GAAIhP,YAAaH,SAASqP,aAAT,CAAuB,KAAvB,CAAjB,CACAlP,WAAWqS,KAAX,CAAiBC,MAAjB,CAA0B,SAA1B,CAEA,GAAIC,QAAS1S,SAASqP,aAAT,CAAuB,OAAvB,CAAb,CACAlP,WAAWD,WAAX,CAAuBwS,MAAvB,EAEA,GAAIC,OAAJ,CAAYC,OAAZ,CACA,GAAIC,KAAJ,CAEA,KAAKjT,OAAL,CAAe,SAAUkT,CAAV,CAAaC,CAAb,CAAgB,CAC7B7D,MAAQ4D,CAAR,CACA3D,OAAS4D,CAAT,CAEAhB,SAASnS,OAAT,CAAiBkT,CAAjB,CAAoBC,CAApB,EAEAC,gBACD,CAPD,CASA,KAAKpS,MAAL,CAAc,SAAUqS,KAAV,CAAiBC,MAAjB,CAAyB,CACrCnB,SAASnR,MAAT,CAAgBqS,KAAhB,CAAuBC,MAAvB,EACAC,aAAapB,QAAb,CAAuBW,MAAvB,EACD,CAHD,CAKA,KAAKvS,UAAL,CAAkBA,UAAlB,CAEA;AAEA;;;;OAMA,QAAS6S,cAAT,EAA0B,CACxBL,OAAS3D,KAAKoE,KAAL,CAAWlE,MAAQmE,WAAnB,CAAT,CACAT,QAAU5D,KAAKoE,KAAL,CAAWjE,OAASkE,WAApB,CAAV,CAEAC,QAAQpE,KAAR,CAAgByD,MAAhB,CACAW,QAAQnE,MAAR,CAAiByD,OAAjB,CACA;AACA;AACA;AAEAC,KAAOd,SAAS5R,UAAhB,CAEA,GAAI0S,KAAKL,KAAL,CAAWe,eAAf,CAAgC,CAC9Bb,OAAOc,IAAP,CAAY,CAAZ,EAAeC,KAAf,CAAqB,CAArB,EAAwBjB,KAAxB,CAA8Be,eAA9B,CAAgDV,KAAKL,KAAL,CAAWe,eAA3D,CACAb,OAAOc,IAAP,CAAY,CAAZ,EAAeC,KAAf,CAAqB,CAArB,EAAwBjB,KAAxB,CAA8BkB,KAA9B,CAAsCb,KAAKL,KAAL,CAAWkB,KAAjD,CACD,CAEDhB,OAAOiB,WAAP,CAAqB,CAArB,CACAjB,OAAOkB,WAAP,CAAqB,CAArB,CAEA,GAAIC,QAASnB,OAAOF,KAApB,CACAqB,OAAOC,OAAP,CAAiB,QAAjB,CACAD,OAAO3E,KAAP,CAAeF,KAAKoE,KAAL,CAAWT,OAASU,WAAT,CAAuBnB,MAAlC,EAA4C,IAA3D,CACA2B,OAAO1E,MAAP,CAAgBH,KAAKoE,KAAL,CAAWR,QAAUS,WAAV,CAAwBnB,MAAnC,EAA6C,IAA7D,CACA2B,OAAOE,UAAP,CAAoB,KAApB,CACAF,OAAOG,MAAP,CAAgB,KAAhB,CACAH,OAAOI,OAAP,CAAiB,KAAjB,CACAJ,OAAOK,aAAP,CAAuBC,eAAiB,IAAxC,CACAN,OAAOO,UAAP,CAAoBC,OAApB,CACAR,OAAOS,QAAP,CAAkBC,UAAY,IAA9B,CACAV,OAAOW,UAAP,CAAoBC,YAAc,IAAlC,CACAZ,OAAOa,SAAP,CAAmB,MAAnB,CACAb,OAAOc,cAAP,CAAwB,MAAxB,CACD,CAED,GAAIC,kBAAoB,iBAAD,CAAoB7L,KAApB,CAA0B,EAA1B,CAAvB,CACA,GAAI8L,uBAAyB,SAAD,CAAY9L,KAAZ,CAAkB,EAAlB,CAA5B,CACA,GAAIsL,SAAU,wBAAd,CAEA,GAAIS,YAAa/C,SAAS5R,UAA1B,CAEA,GAAImT,SAAUtT,SAASqP,aAAT,CAAuB,QAAvB,CAAd,CACA,GAAI,CAACiE,QAAQ9D,UAAb,CAAyB,CACvB,OACD,CAED,GAAIuF,MAAOzB,QAAQ9D,UAAR,CAAmB,IAAnB,CAAX,CACA,GAAI,CAACuF,KAAKC,YAAV,CAAwB,CACtB,OACD,CAED,GAAIC,WAAa9C,OAAS0C,qBAAT,CAAiCD,gBAAlD,CAEA,GAAI5C,OAAJ,CAAaiD,UAAYjD,OAAZ,CAEb,GAAIqB,aAAc,GAAlB,CAEA,OAAQd,aAAR,EACE,IAAK,KAAL,CAAcc,YAAc,IAAd,CAAoB,MAClC,IAAK,QAAL,CAAgBA,YAAc,GAAd,CAAmB,MACnC,IAAK,MAAL,CAAeA,YAAc,CAAd,CAAiB,MAHlC,CAMA,GAAIpB,WAAJ,CAAiBoB,YAAcpB,WAAd,CAEjB;AAEA,GAAIsC,WAAa,EAAIlB,WAAL,CAAoBnB,MAApC,CACA,GAAIuC,aAAe,EAAIpB,WAAL,CAAoBnB,MAAtC,CAEA;AAEA,GAAIiC,gBAAiB,CAArB,CAEA,GAAI5B,eAAiB,KAArB,CAA4B,CAC1B,OAAQL,MAAR,EACE,IAAK,EAAL,CAASiC,eAAiB,CAAC,CAAlB,CAAqB,MAC9B,IAAK,EAAL,CACA,IAAK,EAAL,CAASA,eAAiB,CAAC,GAAlB,CAAuB,MAChC,IAAK,EAAL,CAASA,eAAiB,CAAC,GAAlB,CAAuB,MAChC,IAAK,EAAL,CAASA,eAAiB,CAAC,IAAlB,CAAwB,MALnC,CAOD,CAED,GAAI5B,eAAiB,QAArB,CAA+B,CAC7B,OAAQL,MAAR,EACE,IAAK,EAAL,CAASiC,eAAiB,CAAjB,CAAoB,MAC7B,IAAK,EAAL,CAASA,eAAiB,CAAC,CAAlB,CAAqB,MAC9B,IAAK,EAAL,CAASA,eAAiB,CAAC,IAAlB,CAAwB,MACjC,IAAK,EAAL,CACA,IAAK,EAAL,CAASA,eAAiB,CAAC,GAAlB,CAAuB,MALlC,CAOD,CAED,GAAI5B,eAAiB,MAArB,CAA6B,CAC3B,OAAQL,MAAR,EACE,IAAK,EAAL,CACA,IAAK,EAAL,CAASiC,eAAiB,CAAjB,CAAoB,MAC7B,IAAK,EAAL,CACA,IAAK,EAAL,CACA,IAAK,EAAL,CAASA,eAAiB,CAAC,CAAlB,CAAqB,MALhC,CAOD,CAED;AAEA;AAEA,QAAShB,aAAT,CAAuB+B,cAAvB,CAAuCxC,MAAvC,CAA+C,CAC7CqC,KAAKI,SAAL,CAAe,CAAf,CAAkB,CAAlB,CAAqBxC,MAArB,CAA6BC,OAA7B,EACAmC,KAAKtF,SAAL,CAAeqF,UAAf,CAA2B,CAA3B,CAA8B,CAA9B,CAAiCnC,MAAjC,CAAyCC,OAAzC,EACA,GAAIwC,UAAWL,KAAKC,YAAL,CAAkB,CAAlB,CAAqB,CAArB,CAAwBrC,MAAxB,CAAgCC,OAAhC,EAAyC9C,IAAxD,CAEA;AACA,GAAIuF,UAAW,EAAf,CAEA;AAEA,IAAK,GAAIrW,GAAI,CAAb,CAAgBA,EAAI4T,OAApB,CAA6B5T,GAAK,CAAlC,CAAqC,CACnC,IAAK,GAAID,GAAI,CAAb,CAAgBA,EAAI4T,MAApB,CAA4B5T,GAA5B,CAAiC,CAC/B,GAAIuW,SAAU,CAACtW,EAAI2T,MAAJ,CAAa5T,CAAd,EAAmB,CAAjC,CAEA,GAAIwW,MAAOH,SAASE,OAAT,CAAX,CACA,GAAIE,QAASJ,SAASE,QAAU,CAAnB,CAAb,CACA,GAAIG,OAAQL,SAASE,QAAU,CAAnB,CAAZ,CACA,GAAII,QAASN,SAASE,QAAU,CAAnB,CAAb,CACA,GAAIK,SAAJ,CAEA,GAAIC,YAAJ,CAEAA,YAAc,CAAC,IAAML,IAAN,CAAa,KAAOC,MAApB,CAA6B,KAAOC,KAArC,EAA8C,GAA5D,CACA;AAEA,GAAIC,QAAU,CAAd,CAAiB,CACf;AACA;AACAE,YAAc,CAAd,CACD,CAEDD,SAAW3G,KAAK6G,KAAL,CAAW,CAAC,EAAID,WAAL,GAAqBX,UAAU1P,MAAV,CAAmB,CAAxC,CAAX,CAAX,CAEA,GAAI+M,OAAJ,CAAa,CACXqD,SAAWV,UAAU1P,MAAV,CAAmBoQ,QAAnB,CAA8B,CAAzC,CACD,CAED;AACA;AACA;AAEA,GAAIG,aAAcb,UAAUU,QAAV,CAAlB,CAEA,GAAIG,cAAgBrW,SAAhB,EAA6BqW,aAAe,GAAhD,CAAqD,CAAEA,YAAc,QAAd,CAAwB,CAE/E,GAAI3D,MAAJ,CAAY,CACVkD,UAAY,gBACE,YADF,CACiBE,IADjB,CACwB,GADxB,CAC8BC,MAD9B,CACuC,GADvC,CAC6CC,KAD7C,CACqD,IADrD,EAEGpD,OAAS,wBAA0BkD,IAA1B,CAAiC,GAAjC,CAAuCC,MAAvC,CAAgD,GAAhD,CAAsDC,KAAtD,CAA8D,IAAvE,CAA8E,EAFjF,GAGGrD,OAAS,WAAcsD,OAAS,GAAvB,CAA8B,GAAvC,CAA6C,EAHhD,EAIE,IAJF,CAISI,WAJT,CAIuB,SAJnC,CAKD,CAND,IAMO,CACLT,UAAYS,WAAZ,CACD,CACF,CACDT,UAAY,OAAZ,CACD,CAED3C,OAAOqD,SAAP,CAAmB,WAAaV,QAAb,CAAwB,YAA3C,CAEA;AAEA;AACD,CAED;AACD,CAvOD,C;;;;;;;;;;;ACNA,KAAMvX,oBAAoB,CACxBC,aAAe,CACb,KAAKsC,OAAL,CAAe,GAAIzB,OAAMoX,iBAAV,CAA4B,EAA5B,CAAgCnW,OAAOC,UAAP,CAAoBD,OAAOE,WAA3D,CAAwE,CAAxE,CAA2E,IAA3E,CAAf,CACA,KAAKM,OAAL,CAAalB,QAAb,CAAsBC,GAAtB,CAA0B,CAA1B,CAA6B,CAA7B,CAAgC,EAAhC,EACA,KAAKiB,OAAL,CAAa4V,MAAb,CAAoB,GAAIrX,OAAMqR,OAAV,CAAkB,CAAlB,CAAqB,CAArB,CAAwB,CAAxB,CAApB,EAEA,KAAK5Q,MAAL,CAAc,GAAIT,OAAMsX,KAAV,EAAd,CAEA,KAAK1W,SAAL,CAAiB,GAAIZ,OAAMuX,aAAV,EAAjB,CACA,KAAK3W,SAAL,CAAe4W,aAAf,CAA6BvW,OAAOwW,gBAApC,EACA,KAAK7W,SAAL,CAAeI,OAAf,CAAuBC,OAAOC,UAA9B,CAA0CD,OAAOE,WAAjD,EACA;AACA,KAAKP,SAAL,CAAe8W,SAAf,CAAyBC,OAAzB,CAAmC,KAAnC,CAEA;AAEA;AACA;AACA;AACA;AAEA1W,OAAO2W,gBAAP,CAAwB,QAAxB,CAAkC,KAAKC,cAAL,CAAoB/V,IAApB,CAAyB,IAAzB,CAAlC,CAAkE,KAAlE,EACD,CAED,GAAIqR,SAAJ,EAAgB,CACd,MAAO,MAAKvS,SAAZ,CACD,CAED,GAAI0T,OAAJ,EAAc,CACZ,MAAO,MAAK7S,OAAZ,CACD,CAED,GAAI4S,MAAJ,EAAa,CACX,MAAO,MAAK5T,MAAZ,CACD,CAEDoX,gBAAkB,CAChB,KAAKpW,OAAL,CAAaqW,MAAb,CAAsB7W,OAAOC,UAAP,CAAoBD,OAAOE,WAAjD,CACA,KAAKM,OAAL,CAAasW,sBAAb,GAEA,KAAKnX,SAAL,CAAeI,OAAf,CAAuBC,OAAOC,UAA9B,CAA0CD,OAAOE,WAAjD,EACD,CAEDS,QAASoW,SAAT,CAAoB,CAClB;AAEA;AACA;AACD,CAhDuB,CAkD1B,yDAAe9Y,mBAAf,E","file":"static/js/app.34c1ce5ab1e9fb41e0ec.js","sourcesContent":["import 'css/style.css'\nimport Main from 'js/main'\n// import Main from 'js/mainWagner'\n// import Main from 'js/mainVR'\n\nnew Main()\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!./style.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./style.css\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./style.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/style.css\n// module id = 2\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"body {\\n    width: 100%;\\n    height: 100%;\\n    background-color: #000;\\n    color: #fff;\\n    margin: 0px;\\n    padding: 0;\\n    overflow: hidden;\\n}\\n\\n/* Position the button VR on the bottom of the page. */\\n#ui {\\n    position: absolute;\\n    bottom: 10px;\\n    left: 50%;\\n    transform: translate(-50%, -50%);\\n    text-align: center;\\n    font-family: 'Karla', sans-serif;\\n    z-index: 1;\\n}\\n\\na#magic-window {\\n    display: block;\\n    color: white;\\n    margin-top: 1em;\\n}\\n#inset  {\\n    width: 200px;\\n    height: 200px;\\n    background-color: #fff; /* or transparent; will show through only if renderer alpha: true */\\n    border: 1px solid black; /* or none; */\\n    margin: 20px;\\n    padding: 0px;\\n    position: absolute;\\n    left: 0px;\\n    bottom: 0px;\\n    z-index: 100;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./src/css/style.css\n// module id = 3\n// module chunks = 0","import * as THREE from 'three'\n// import './STLLoader'\nimport './OBJLoader'\nimport './MTLLoader'\nimport './OBJMTLLoader'\n// import './TGALoader'\nimport './AsciiEffect'\n// import './ColladaLoader'\nimport AbstractApplication from 'views/AbstractApplication'\n\nclass Main extends AbstractApplication {\n  constructor () {\n    super()\n    this.init()\n  }\n  async init () {\n    const deathstar = await this.OBJMTLLoader('assets/models/Death_Star.obj', 'assets/models/Death_Star.mtl')\n    const texture = await this.loadTexture('assets/textures/Death_Star_D.gif')\n    const mat1 = deathstar.children[0].children[0].material\n    const mat2 = deathstar.children[0].children[1].material\n    mat1.opacity = 0.1\n    mat2.map = texture\n    mat2.emissive = new THREE.Color(0xFFFFFF)\n    mat2.emissiveIntensity = 0.2\n    deathstar.rotation.x = -0.8122628038674867\n    deathstar.rotation.y = -0.8145858626991419\n    deathstar.rotation.z = 0.3710879261288657\n    const scale = 10\n    deathstar.position.x = 0.5 * scale\n    deathstar.position.y = -1 * scale\n    deathstar.position.z = 1.9 * scale\n    deathstar.scale.set(scale, scale, scale)\n    this._scene.add(deathstar)\n    this.deathstar = deathstar\n\n    // / Reference cube\n    // const cubeGeometry = new THREE.CubeGeometry(4, 4, 4)\n    // const cubeMaterial = new THREE.MeshBasicMaterial({color: 0xFF0000})\n    // const cube = new THREE.Mesh(cubeGeometry, cubeMaterial)\n    // this._scene.add(cube)\n\n    this.effect = new THREE.AsciiEffect(this._renderer, undefined, {resolution: 0.150, invert: true})\n    this.effect.setSize(window.innerWidth, window.innerHeight)\n    document.body.appendChild(this.effect.domElement)\n\n    this._controls = new THREE.OrbitControls(this._camera, this.effect.domElement)\n    this._controls.enableZoom = false\n    const ambientLight = new THREE.AmbientLight(0xF4F4F4)\n    this._scene.add(ambientLight)\n    // this.init2()\n    this.animate()\n  }\n  animate () {\n    requestAnimationFrame(this.animate.bind(this))\n    // console.log(this.effect)\n    this._controls.update()\n    // this._renderer.render(this._scene, this._camera)\n    this.effect.render(this._scene, this._camera)\n\n    // this.camera2.position.copy(this._camera.position)\n    // this.camera2.position.sub(this._controls.target) // added by @libe\n    // this.camera2.position.setLength(200)\n    // this.camera2.lookAt(this.scene2.position)\n    // this.renderer2.render(this.scene2, this.camera2)\n    // this.deathstar.rotation.y += 0.1\n    // console.log(camPos)\n    // this.deathstar.rotation.y += 0.01\n    // console.log(this._camera.position)\n  }\n  STLLoader (model) {\n    return new Promise((resolve) => {\n      const loader = new THREE.STLLoader()\n      loader.load(model, resolve)\n    })\n  }\n  loadObj (model) {\n    return new Promise((resolve) => {\n      const loader = new THREE.OBJLoader()\n      loader.load(model, resolve)\n    })\n  }\n  colladaLoader (model) {\n    return new Promise((resolve) => {\n      const loader = new THREE.ColladaLoader()\n      loader.load(model, resolve)\n    })\n  }\n  loadTexture (texture) {\n    return new Promise((resolve) => {\n      const loader = new THREE.TextureLoader()\n      loader.load(texture, resolve)\n    })\n  }\n  mtlLoader (url) {\n    return new Promise(resolve => {\n      const mtlLoader = new THREE.MTLLoader()\n      mtlLoader.load(url, resolve)\n    })\n  }\n  OBJMTLLoader (obj, mtl) {\n    return new Promise(resolve => {\n      const loader = new THREE.OBJMTLLoader()\n      loader.load(obj, mtl, resolve)\n    })\n  }\n  init2 () {\n    const CANVAS_WIDTH = 200\n    const CANVAS_HEIGHT = 200\n    const container2 = document.getElementById('inset')\n    this.renderer2 = new THREE.WebGLRenderer()\n    this.renderer2.setClearColor(0xf0f0f0, 1)\n    this.renderer2.setSize(CANVAS_WIDTH, CANVAS_HEIGHT)\n    container2.appendChild(this.renderer2.domElement)\n\n    // scene\n    this.scene2 = new THREE.Scene()\n\n    // camera\n    this.camera2 = new THREE.PerspectiveCamera(50, CANVAS_WIDTH / CANVAS_HEIGHT, 1, 1000)\n    this.camera2.up = this._camera.up // important!\n\n    // axes\n    const axes2 = new THREE.AxisHelper(100)\n    this.scene2.add(axes2)\n  }\n}\n\nexport default Main\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.OBJLoader = function (manager) {\n  this.manager = (manager !== undefined) ? manager : THREE.DefaultLoadingManager\n\n  this.materials = null\n\n  this.regexp = {\n    // v float float float\n    vertex_pattern: /^v\\s+([\\d\\.\\+\\-eE]+)\\s+([\\d\\.\\+\\-eE]+)\\s+([\\d\\.\\+\\-eE]+)/,\n    // vn float float float\n    normal_pattern: /^vn\\s+([\\d\\.\\+\\-eE]+)\\s+([\\d\\.\\+\\-eE]+)\\s+([\\d\\.\\+\\-eE]+)/,\n    // vt float float\n    uv_pattern: /^vt\\s+([\\d\\.\\+\\-eE]+)\\s+([\\d\\.\\+\\-eE]+)/,\n    // f vertex vertex vertex\n    face_vertex: /^f\\s+(-?\\d+)\\s+(-?\\d+)\\s+(-?\\d+)(?:\\s+(-?\\d+))?/,\n    // f vertex/uv vertex/uv vertex/uv\n    face_vertex_uv: /^f\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+))?/,\n    // f vertex/uv/normal vertex/uv/normal vertex/uv/normal\n    face_vertex_uv_normal: /^f\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+))?/,\n    // f vertex//normal vertex//normal vertex//normal\n    face_vertex_normal: /^f\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)(?:\\s+(-?\\d+)\\/\\/(-?\\d+))?/,\n    // o object_name | g group_name\n    object_pattern: /^[og]\\s*(.+)?/,\n    // s boolean\n    smoothing_pattern: /^s\\s+(\\d+|on|off)/,\n    // mtllib file_reference\n    material_library_pattern: /^mtllib /,\n    // usemtl material_name\n    material_use_pattern: /^usemtl /\n  }\n}\n\nTHREE.OBJLoader.prototype = {\n\n  constructor: THREE.OBJLoader,\n\n  load: function (url, onLoad, onProgress, onError) {\n    var scope = this\n\n    var loader = new THREE.FileLoader(scope.manager)\n    loader.setPath(this.path)\n    loader.load(url, function (text) {\n      onLoad(scope.parse(text))\n    }, onProgress, onError)\n  },\n\n  setPath: function (value) {\n    this.path = value\n  },\n\n  setMaterials: function (materials) {\n    this.materials = materials\n  },\n\n  _createParserState: function () {\n    var state = {\n      objects: [],\n      object: {},\n\n      vertices: [],\n      normals: [],\n      uvs: [],\n\n      materialLibraries: [],\n\n      startObject: function (name, fromDeclaration) {\n        // If the current object (initial from reset) is not from a g/o declaration in the parsed\n        // file. We need to use it for the first parsed g/o to keep things in sync.\n        if (this.object && this.object.fromDeclaration === false) {\n          this.object.name = name\n          this.object.fromDeclaration = (fromDeclaration !== false)\n          return\n        }\n\n        var previousMaterial = (this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined)\n\n        if (this.object && typeof this.object._finalize === 'function') {\n          this.object._finalize(true)\n        }\n\n        this.object = {\n          name: name || '',\n          fromDeclaration: (fromDeclaration !== false),\n\n          geometry: {\n            vertices: [],\n            normals: [],\n            uvs: []\n          },\n          materials: [],\n          smooth: true,\n\n          startMaterial: function (name, libraries) {\n            var previous = this._finalize(false)\n\n            // New usemtl declaration overwrites an inherited material, except if faces were declared\n            // after the material, then it must be preserved for proper MultiMaterial continuation.\n            if (previous && (previous.inherited || previous.groupCount <= 0)) {\n              this.materials.splice(previous.index, 1)\n            }\n\n            var material = {\n              index: this.materials.length,\n              name: name || '',\n              mtllib: (Array.isArray(libraries) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : ''),\n              smooth: (previous !== undefined ? previous.smooth : this.smooth),\n              groupStart: (previous !== undefined ? previous.groupEnd : 0),\n              groupEnd: -1,\n              groupCount: -1,\n              inherited: false,\n\n              clone: function (index) {\n                var cloned = {\n                  index: (typeof index === 'number' ? index : this.index),\n                  name: this.name,\n                  mtllib: this.mtllib,\n                  smooth: this.smooth,\n                  groupStart: 0,\n                  groupEnd: -1,\n                  groupCount: -1,\n                  inherited: false\n                }\n                cloned.clone = this.clone.bind(cloned)\n                return cloned\n              }\n            }\n\n            this.materials.push(material)\n\n            return material\n          },\n\n          currentMaterial: function () {\n            if (this.materials.length > 0) {\n              return this.materials[ this.materials.length - 1 ]\n            }\n\n            return undefined\n          },\n\n          _finalize: function (end) {\n            var lastMultiMaterial = this.currentMaterial()\n            if (lastMultiMaterial && lastMultiMaterial.groupEnd === -1) {\n              lastMultiMaterial.groupEnd = this.geometry.vertices.length / 3\n              lastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart\n              lastMultiMaterial.inherited = false\n            }\n\n            // Ignore objects tail materials if no face declarations followed them before a new o/g started.\n            if (end && this.materials.length > 1) {\n              for (var mi = this.materials.length - 1; mi >= 0; mi--) {\n                if (this.materials[mi].groupCount <= 0) {\n                  this.materials.splice(mi, 1)\n                }\n              }\n            }\n\n            // Guarantee at least one empty material, this makes the creation later more straight forward.\n            if (end && this.materials.length === 0) {\n              this.materials.push({\n                name: '',\n                smooth: this.smooth\n              })\n            }\n\n            return lastMultiMaterial\n          }\n        }\n\n        // Inherit previous objects material.\n        // Spec tells us that a declared material must be set to all objects until a new material is declared.\n        // If a usemtl declaration is encountered while this new object is being parsed, it will\n        // overwrite the inherited material. Exception being that there was already face declarations\n        // to the inherited material, then it will be preserved for proper MultiMaterial continuation.\n\n        if (previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function') {\n          var declared = previousMaterial.clone(0)\n          declared.inherited = true\n          this.object.materials.push(declared)\n        }\n\n        this.objects.push(this.object)\n      },\n\n      finalize: function () {\n        if (this.object && typeof this.object._finalize === 'function') {\n          this.object._finalize(true)\n        }\n      },\n\n      parseVertexIndex: function (value, len) {\n        var index = parseInt(value, 10)\n        return (index >= 0 ? index - 1 : index + len / 3) * 3\n      },\n\n      parseNormalIndex: function (value, len) {\n        var index = parseInt(value, 10)\n        return (index >= 0 ? index - 1 : index + len / 3) * 3\n      },\n\n      parseUVIndex: function (value, len) {\n        var index = parseInt(value, 10)\n        return (index >= 0 ? index - 1 : index + len / 2) * 2\n      },\n\n      addVertex: function (a, b, c) {\n        var src = this.vertices\n        var dst = this.object.geometry.vertices\n\n        dst.push(src[ a + 0 ])\n        dst.push(src[ a + 1 ])\n        dst.push(src[ a + 2 ])\n        dst.push(src[ b + 0 ])\n        dst.push(src[ b + 1 ])\n        dst.push(src[ b + 2 ])\n        dst.push(src[ c + 0 ])\n        dst.push(src[ c + 1 ])\n        dst.push(src[ c + 2 ])\n      },\n\n      addVertexLine: function (a) {\n        var src = this.vertices\n        var dst = this.object.geometry.vertices\n\n        dst.push(src[ a + 0 ])\n        dst.push(src[ a + 1 ])\n        dst.push(src[ a + 2 ])\n      },\n\n      addNormal: function (a, b, c) {\n        var src = this.normals\n        var dst = this.object.geometry.normals\n\n        dst.push(src[ a + 0 ])\n        dst.push(src[ a + 1 ])\n        dst.push(src[ a + 2 ])\n        dst.push(src[ b + 0 ])\n        dst.push(src[ b + 1 ])\n        dst.push(src[ b + 2 ])\n        dst.push(src[ c + 0 ])\n        dst.push(src[ c + 1 ])\n        dst.push(src[ c + 2 ])\n      },\n\n      addUV: function (a, b, c) {\n        var src = this.uvs\n        var dst = this.object.geometry.uvs\n\n        dst.push(src[ a + 0 ])\n        dst.push(src[ a + 1 ])\n        dst.push(src[ b + 0 ])\n        dst.push(src[ b + 1 ])\n        dst.push(src[ c + 0 ])\n        dst.push(src[ c + 1 ])\n      },\n\n      addUVLine: function (a) {\n        var src = this.uvs\n        var dst = this.object.geometry.uvs\n\n        dst.push(src[ a + 0 ])\n        dst.push(src[ a + 1 ])\n      },\n\n      addFace: function (a, b, c, d, ua, ub, uc, ud, na, nb, nc, nd) {\n        var vLen = this.vertices.length\n\n        var ia = this.parseVertexIndex(a, vLen)\n        var ib = this.parseVertexIndex(b, vLen)\n        var ic = this.parseVertexIndex(c, vLen)\n        var id\n\n        if (d === undefined) {\n          this.addVertex(ia, ib, ic)\n        } else {\n          id = this.parseVertexIndex(d, vLen)\n\n          this.addVertex(ia, ib, id)\n          this.addVertex(ib, ic, id)\n        }\n\n        if (ua !== undefined) {\n          var uvLen = this.uvs.length\n\n          ia = this.parseUVIndex(ua, uvLen)\n          ib = this.parseUVIndex(ub, uvLen)\n          ic = this.parseUVIndex(uc, uvLen)\n\n          if (d === undefined) {\n            this.addUV(ia, ib, ic)\n          } else {\n            id = this.parseUVIndex(ud, uvLen)\n\n            this.addUV(ia, ib, id)\n            this.addUV(ib, ic, id)\n          }\n        }\n\n        if (na !== undefined) {\n          // Normals are many times the same. If so, skip function call and parseInt.\n          var nLen = this.normals.length\n          ia = this.parseNormalIndex(na, nLen)\n\n          ib = na === nb ? ia : this.parseNormalIndex(nb, nLen)\n          ic = na === nc ? ia : this.parseNormalIndex(nc, nLen)\n\n          if (d === undefined) {\n            this.addNormal(ia, ib, ic)\n          } else {\n            id = this.parseNormalIndex(nd, nLen)\n\n            this.addNormal(ia, ib, id)\n            this.addNormal(ib, ic, id)\n          }\n        }\n      },\n\n      addLineGeometry: function (vertices, uvs) {\n        this.object.geometry.type = 'Line'\n\n        var vLen = this.vertices.length\n        var uvLen = this.uvs.length\n\n        for (var vi = 0, l = vertices.length; vi < l; vi++) {\n          this.addVertexLine(this.parseVertexIndex(vertices[ vi ], vLen))\n        }\n\n        for (var uvi = 0, l = uvs.length; uvi < l; uvi++) {\n          this.addUVLine(this.parseUVIndex(uvs[ uvi ], uvLen))\n        }\n      }\n\n    }\n\n    state.startObject('', false)\n\n    return state\n  },\n\n  parse: function (text) {\n    console.time('OBJLoader')\n\n    var state = this._createParserState()\n\n    if (text.indexOf('\\r\\n') !== -1) {\n      // This is faster than String.split with regex that splits on both\n      text = text.replace(/\\r\\n/g, '\\n')\n    }\n\n    if (text.indexOf('\\\\\\n') !== -1) {\n      // join lines separated by a line continuation character (\\)\n      text = text.replace(/\\\\\\n/g, '')\n    }\n\n    var lines = text.split('\\n')\n    var line = '', lineFirstChar = '', lineSecondChar = ''\n    var lineLength = 0\n    var result = []\n\n    // Faster to just trim left side of the line. Use if available.\n    var trimLeft = (typeof ''.trimLeft === 'function')\n\n    for (var i = 0, l = lines.length; i < l; i++) {\n      line = lines[ i ]\n\n      line = trimLeft ? line.trimLeft() : line.trim()\n\n      lineLength = line.length\n\n      if (lineLength === 0) continue\n\n      lineFirstChar = line.charAt(0)\n\n      // @todo invoke passed in handler if any\n      if (lineFirstChar === '#') continue\n\n      if (lineFirstChar === 'v') {\n        lineSecondChar = line.charAt(1)\n\n        if (lineSecondChar === ' ' && (result = this.regexp.vertex_pattern.exec(line)) !== null) {\n          // 0                  1      2      3\n          // [\"v 1.0 2.0 3.0\", \"1.0\", \"2.0\", \"3.0\"]\n\n          state.vertices.push(\n            parseFloat(result[ 1 ]),\n            parseFloat(result[ 2 ]),\n            parseFloat(result[ 3 ])\n          )\n        } else if (lineSecondChar === 'n' && (result = this.regexp.normal_pattern.exec(line)) !== null) {\n          // 0                   1      2      3\n          // [\"vn 1.0 2.0 3.0\", \"1.0\", \"2.0\", \"3.0\"]\n\n          state.normals.push(\n            parseFloat(result[ 1 ]),\n            parseFloat(result[ 2 ]),\n            parseFloat(result[ 3 ])\n          )\n        } else if (lineSecondChar === 't' && (result = this.regexp.uv_pattern.exec(line)) !== null) {\n          // 0               1      2\n          // [\"vt 0.1 0.2\", \"0.1\", \"0.2\"]\n\n          state.uvs.push(\n            parseFloat(result[ 1 ]),\n            parseFloat(result[ 2 ])\n          )\n        } else {\n          throw new Error(\"Unexpected vertex/normal/uv line: '\" + line + \"'\")\n        }\n      } else if (lineFirstChar === 'f') {\n        if ((result = this.regexp.face_vertex_uv_normal.exec(line)) !== null) {\n          // f vertex/uv/normal vertex/uv/normal vertex/uv/normal\n          // 0                        1    2    3    4    5    6    7    8    9   10         11         12\n          // [\"f 1/1/1 2/2/2 3/3/3\", \"1\", \"1\", \"1\", \"2\", \"2\", \"2\", \"3\", \"3\", \"3\", undefined, undefined, undefined]\n\n          state.addFace(\n            result[ 1 ], result[ 4 ], result[ 7 ], result[ 10 ],\n            result[ 2 ], result[ 5 ], result[ 8 ], result[ 11 ],\n            result[ 3 ], result[ 6 ], result[ 9 ], result[ 12 ]\n          )\n        } else if ((result = this.regexp.face_vertex_uv.exec(line)) !== null) {\n          // f vertex/uv vertex/uv vertex/uv\n          // 0                  1    2    3    4    5    6   7          8\n          // [\"f 1/1 2/2 3/3\", \"1\", \"1\", \"2\", \"2\", \"3\", \"3\", undefined, undefined]\n\n          state.addFace(\n            result[ 1 ], result[ 3 ], result[ 5 ], result[ 7 ],\n            result[ 2 ], result[ 4 ], result[ 6 ], result[ 8 ]\n          )\n        } else if ((result = this.regexp.face_vertex_normal.exec(line)) !== null) {\n          // f vertex//normal vertex//normal vertex//normal\n          // 0                     1    2    3    4    5    6   7          8\n          // [\"f 1//1 2//2 3//3\", \"1\", \"1\", \"2\", \"2\", \"3\", \"3\", undefined, undefined]\n\n          state.addFace(\n            result[ 1 ], result[ 3 ], result[ 5 ], result[ 7 ],\n            undefined, undefined, undefined, undefined,\n            result[ 2 ], result[ 4 ], result[ 6 ], result[ 8 ]\n          )\n        } else if ((result = this.regexp.face_vertex.exec(line)) !== null) {\n          // f vertex vertex vertex\n          // 0            1    2    3   4\n          // [\"f 1 2 3\", \"1\", \"2\", \"3\", undefined]\n\n          state.addFace(\n            result[ 1 ], result[ 2 ], result[ 3 ], result[ 4 ]\n          )\n        } else {\n          throw new Error(\"Unexpected face line: '\" + line + \"'\")\n        }\n      } else if (lineFirstChar === 'l') {\n        var lineParts = line.substring(1).trim().split(' ')\n        var lineVertices = [], lineUVs = []\n\n        if (line.indexOf('/') === -1) {\n          lineVertices = lineParts\n        } else {\n          for (var li = 0, llen = lineParts.length; li < llen; li++) {\n            var parts = lineParts[ li ].split('/')\n\n            if (parts[ 0 ] !== '') lineVertices.push(parts[ 0 ])\n            if (parts[ 1 ] !== '') lineUVs.push(parts[ 1 ])\n          }\n        }\n        state.addLineGeometry(lineVertices, lineUVs)\n      } else if ((result = this.regexp.object_pattern.exec(line)) !== null) {\n        // o object_name\n        // or\n        // g group_name\n\n        // WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\n        // var name = result[ 0 ].substr( 1 ).trim();\n        var name = (' ' + result[ 0 ].substr(1).trim()).substr(1)\n\n        state.startObject(name)\n      } else if (this.regexp.material_use_pattern.test(line)) {\n        // material\n\n        state.object.startMaterial(line.substring(7).trim(), state.materialLibraries)\n      } else if (this.regexp.material_library_pattern.test(line)) {\n        // mtl file\n\n        state.materialLibraries.push(line.substring(7).trim())\n      } else if ((result = this.regexp.smoothing_pattern.exec(line)) !== null) {\n        // smooth shading\n\n        // @todo Handle files that have varying smooth values for a set of faces inside one geometry,\n        // but does not define a usemtl for each face set.\n        // This should be detected and a dummy material created (later MultiMaterial and geometry groups).\n        // This requires some care to not create extra material on each smooth value for \"normal\" obj files.\n        // where explicit usemtl defines geometry groups.\n        // Example asset: examples/models/obj/cerberus/Cerberus.obj\n\n        var value = result[ 1 ].trim().toLowerCase()\n        /*\n\t\t\t\t * http://paulbourke.net/dataformats/obj/\n\t\t\t\t * or\n\t\t\t\t * http://www.cs.utah.edu/~boulos/cs3505/obj_spec.pdf\n\t\t\t\t *\n\t\t\t\t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\n\t\t\t\t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\n\t\t\t\t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\n\t\t\t\t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\n\t\t\t\t * than 0.\"\n\t\t\t\t */\n        state.object.smooth = (value !== '0' && value !== 'off')\n\n        var material = state.object.currentMaterial()\n        if (material) {\n          material.smooth = state.object.smooth\n        }\n      } else {\n        // Handle null terminated files without exception\n        if (line === '\\0') continue\n\n        throw new Error(\"Unexpected line: '\" + line + \"'\")\n      }\n    }\n\n    state.finalize()\n\n    var container = new THREE.Group()\n    container.materialLibraries = [].concat(state.materialLibraries)\n\n    for (var i = 0, l = state.objects.length; i < l; i++) {\n      var object = state.objects[ i ]\n      var geometry = object.geometry\n      var materials = object.materials\n      var isLine = (geometry.type === 'Line')\n\n      // Skip o/g line declarations that did not follow with any faces\n      if (geometry.vertices.length === 0) continue\n\n      var buffergeometry = new THREE.BufferGeometry()\n\n      buffergeometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(geometry.vertices), 3))\n\n      if (geometry.normals.length > 0) {\n        buffergeometry.addAttribute('normal', new THREE.BufferAttribute(new Float32Array(geometry.normals), 3))\n      } else {\n        buffergeometry.computeVertexNormals()\n      }\n\n      if (geometry.uvs.length > 0) {\n        buffergeometry.addAttribute('uv', new THREE.BufferAttribute(new Float32Array(geometry.uvs), 2))\n      }\n\n      // Create materials\n\n      var createdMaterials = []\n\n      for (var mi = 0, miLen = materials.length; mi < miLen; mi++) {\n        var sourceMaterial = materials[mi]\n        var material\n\n        if (this.materials !== null) {\n          material = this.materials.create(sourceMaterial.name)\n\n          // mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\n          if (isLine && material && !(material instanceof THREE.LineBasicMaterial)) {\n            var materialLine = new THREE.LineBasicMaterial()\n            materialLine.copy(material)\n            material = materialLine\n          }\n        }\n\n        if (!material) {\n          material = (!isLine ? new THREE.MeshPhongMaterial() : new THREE.LineBasicMaterial())\n          material.name = sourceMaterial.name\n        }\n\n        material.shading = sourceMaterial.smooth ? THREE.SmoothShading : THREE.FlatShading\n\n        createdMaterials.push(material)\n      }\n\n      // Create mesh\n\n      var mesh\n\n      if (createdMaterials.length > 1) {\n        for (var mi = 0, miLen = materials.length; mi < miLen; mi++) {\n          var sourceMaterial = materials[mi]\n          buffergeometry.addGroup(sourceMaterial.groupStart, sourceMaterial.groupCount, mi)\n        }\n\n        mesh = (!isLine ? new THREE.Mesh(buffergeometry, createdMaterials) : new THREE.LineSegments(buffergeometry, createdMaterials))\n      } else {\n        mesh = (!isLine ? new THREE.Mesh(buffergeometry, createdMaterials[ 0 ]) : new THREE.LineSegments(buffergeometry, createdMaterials[ 0 ]))\n      }\n\n      mesh.name = object.name\n\n      container.add(mesh)\n    }\n\n    console.timeEnd('OBJLoader')\n\n    return container\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/OBJLoader.js","/**\n * Loads a Wavefront .mtl file specifying materials\n *\n * @author angelxuanchang\n */\n\nTHREE.MTLLoader = function (baseUrl, options, crossOrigin) {\n  this.baseUrl = baseUrl\n  this.options = options\n  this.crossOrigin = crossOrigin\n}\n\nTHREE.MTLLoader.prototype = {\n\n  constructor: THREE.MTLLoader,\n\n  load: function (url, onLoad, onProgress, onError) {\n    var scope = this\n\n    var loader = new THREE.FileLoader()\n    loader.setPath(this.path)\n    loader.load(url, function (text) {\n      onLoad(scope.parse(text))\n    }, onProgress, onError)\n  },\n\n  /**\n\t * Parses loaded MTL file\n\t * @param text - Content of MTL file\n\t * @return {THREE.MTLLoader.MaterialCreator}\n\t */\n  parse: function (text) {\n    var lines = text.split('\\n')\n    var info = {}\n    var delimiter_pattern = /\\s+/\n    var materialsInfo = {}\n\n    for (var i = 0; i < lines.length; i++) {\n      var line = lines[ i ]\n      line = line.trim()\n\n      if (line.length === 0 || line.charAt(0) === '#') {\n        // Blank line or comment ignore\n        continue\n      }\n\n      var pos = line.indexOf(' ')\n\n      var key = (pos >= 0) ? line.substring(0, pos) : line\n      key = key.toLowerCase()\n\n      var value = (pos >= 0) ? line.substring(pos + 1) : ''\n      value = value.trim()\n\n      if (key === 'newmtl') {\n        // New material\n\n        info = { name: value }\n        materialsInfo[ value ] = info\n      } else if (info) {\n        if (key === 'ka' || key === 'kd' || key === 'ks') {\n          var ss = value.split(delimiter_pattern, 3)\n          info[ key ] = [ parseFloat(ss[0]), parseFloat(ss[1]), parseFloat(ss[2]) ]\n        } else {\n          info[ key ] = value\n        }\n      }\n    }\n\n    var materialCreator = new THREE.MTLLoader.MaterialCreator(this.baseUrl, this.options)\n    materialCreator.setMaterials(materialsInfo)\n    return materialCreator\n  }\n\n}\n\n/**\n * Create a new THREE-MTLLoader.MaterialCreator\n * @param baseUrl - Url relative to which textures are loaded\n * @param options - Set of options on how to construct the materials\n *                  side: Which side to apply the material\n *                        THREE.FrontSide (default), THREE.BackSide, THREE.DoubleSide\n *                  wrap: What type of wrapping to apply for textures\n *                        THREE.RepeatWrapping (default), THREE.ClampToEdgeWrapping, THREE.MirroredRepeatWrapping\n *                  normalizeRGB: RGBs need to be normalized to 0-1 from 0-255\n *                                Default: false, assumed to be already normalized\n *                  ignoreZeroRGBs: Ignore values of RGBs (Ka,Kd,Ks) that are all 0's\n *                                  Default: false\n *                  invertTransparency: If transparency need to be inverted (inversion is needed if d = 0 is fully opaque)\n *                                      Default: false (d = 1 is fully opaque)\n * @constructor\n */\n\nTHREE.MTLLoader.MaterialCreator = function (baseUrl, options) {\n  this.baseUrl = baseUrl\n  this.options = options\n  this.materialsInfo = {}\n  this.materials = {}\n  this.materialsArray = []\n  this.nameLookup = {}\n\n  this.side = (this.options && this.options.side) ? this.options.side : THREE.FrontSide\n  this.wrap = (this.options && this.options.wrap) ? this.options.wrap : THREE.RepeatWrapping\n}\n\nTHREE.MTLLoader.MaterialCreator.prototype = {\n\n  constructor: THREE.MTLLoader.MaterialCreator,\n\n  setMaterials: function (materialsInfo) {\n    this.materialsInfo = this.convert(materialsInfo)\n    this.materials = {}\n    this.materialsArray = []\n    this.nameLookup = {}\n  },\n\n  convert: function (materialsInfo) {\n    if (!this.options) return materialsInfo\n\n    var converted = {}\n\n    for (var mn in materialsInfo) {\n      // Convert materials info into normalized form based on options\n\n      var mat = materialsInfo[ mn ]\n\n      var covmat = {}\n\n      converted[ mn ] = covmat\n\n      for (var prop in mat) {\n        var save = true\n        var value = mat[ prop ]\n        var lprop = prop.toLowerCase()\n\n        switch (lprop) {\n          case 'kd':\n          case 'ka':\n          case 'ks':\n\n            // Diffuse color (color under white light) using RGB values\n\n            if (this.options && this.options.normalizeRGB) {\n              value = [ value[ 0 ] / 255, value[ 1 ] / 255, value[ 2 ] / 255 ]\n            }\n\n            if (this.options && this.options.ignoreZeroRGBs) {\n              if (value[ 0 ] === 0 && value[ 1 ] === 0 && value[ 1 ] === 0) {\n                // ignore\n\n                save = false\n              }\n            }\n\n            break\n\n          case 'd':\n\n            // According to MTL format (http://paulbourke.net/dataformats/mtl/):\n            //   d is dissolve for current material\n            //   factor of 1.0 is fully opaque, a factor of 0 is fully dissolved (completely transparent)\n\n            if (this.options && this.options.invertTransparency) {\n              value = 1 - value\n            }\n\n            break\n\n          default:\n\n            break\n        }\n\n        if (save) {\n          covmat[ lprop ] = value\n        }\n      }\n    }\n\n    return converted\n  },\n\n  preload: function () {\n    for (var mn in this.materialsInfo) {\n      this.create(mn)\n    }\n  },\n\n  getIndex: function (materialName) {\n    return this.nameLookup[ materialName ]\n  },\n\n  getAsArray: function () {\n    var index = 0\n\n    for (var mn in this.materialsInfo) {\n      this.materialsArray[ index ] = this.create(mn)\n      this.nameLookup[ mn ] = index\n      index++\n    }\n\n    return this.materialsArray\n  },\n\n  create: function (materialName) {\n    if (this.materials[ materialName ] === undefined) {\n      this.createMaterial_(materialName)\n    }\n\n    return this.materials[ materialName ]\n  },\n\n  createMaterial_: function (materialName) {\n    // Create material\n\n    var mat = this.materialsInfo[ materialName ]\n    var params = {\n\n      name: materialName,\n      side: this.side\n\n    }\n\n    for (var prop in mat) {\n      var value = mat[ prop ]\n\n      switch (prop.toLowerCase()) {\n        // Ns is material specular exponent\n\n        case 'kd':\n\n          // Diffuse color (color under white light) using RGB values\n\n          params[ 'diffuse' ] = new THREE.Color().fromArray(value)\n\n          break\n\n        case 'ka':\n\n          // Ambient color (color under shadow) using RGB values\n\n          params[ 'ambient' ] = new THREE.Color().fromArray(value)\n\n          break\n\n        case 'ks':\n\n          // Specular color (color when light is reflected from shiny surface) using RGB values\n          params[ 'specular' ] = new THREE.Color().fromArray(value)\n\n          break\n\n        case 'map_kd':\n\n          // Diffuse texture map\n\n          params[ 'map' ] = this.loadTexture(this.baseUrl + value)\n          params[ 'map' ].wrapS = this.wrap\n          params[ 'map' ].wrapT = this.wrap\n\n          break\n\n        case 'ns':\n\n          // The specular exponent (defines the focus of the specular highlight)\n          // A high exponent results in a tight, concentrated highlight. Ns values normally range from 0 to 1000.\n\n          params['shininess'] = value\n\n          break\n\n        case 'd':\n\n          // According to MTL format (http://paulbourke.net/dataformats/mtl/):\n          //   d is dissolve for current material\n          //   factor of 1.0 is fully opaque, a factor of 0 is fully dissolved (completely transparent)\n\n          if (value < 1) {\n            params['transparent'] = true\n            params['opacity'] = value\n          }\n\n          break\n\n        default:\n          break\n      }\n    }\n\n    if (params[ 'diffuse' ]) {\n      if (!params[ 'ambient' ]) params[ 'ambient' ] = params[ 'diffuse' ]\n      params[ 'color' ] = params[ 'diffuse' ]\n    }\n\n    this.materials[ materialName ] = new THREE.MeshPhongMaterial(params)\n    return this.materials[ materialName ]\n  },\n\n  loadTexture: function (url, mapping, onLoad, onError) {\n    var texture\n    var loader = THREE.Loader.Handlers.get(url)\n\n    if (loader !== null) {\n      texture = loader.load(url, onLoad)\n    } else {\n      texture = new THREE.Texture()\n\n      loader = new THREE.ImageLoader()\n      loader.crossOrigin = this.crossOrigin\n      loader.load(url, function (image) {\n        texture.image = THREE.MTLLoader.ensurePowerOfTwo_(image)\n        texture.needsUpdate = true\n\n        if (onLoad) onLoad(texture)\n      })\n    }\n\n    texture.mapping = mapping\n\n    return texture\n  }\n\n}\n\nTHREE.MTLLoader.ensurePowerOfTwo_ = function (image) {\n  if (!THREE.Math.isPowerOfTwo(image.width) || !THREE.Math.isPowerOfTwo(image.height)) {\n    var canvas = document.createElement('canvas')\n    canvas.width = THREE.MTLLoader.nextHighestPowerOfTwo_(image.width)\n    canvas.height = THREE.MTLLoader.nextHighestPowerOfTwo_(image.height)\n\n    var ctx = canvas.getContext('2d')\n    ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height)\n    return canvas\n  }\n\n  return image\n}\n\nTHREE.MTLLoader.nextHighestPowerOfTwo_ = function (x) {\n  --x\n\n  for (var i = 1; i < 32; i <<= 1) {\n    x = x | x >> i\n  }\n\n  return x + 1\n}\n\n// THREE.EventDispatcher.prototype.apply(THREE.MTLLoader.prototype)\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/MTLLoader.js","/**\n * Loads a Wavefront .obj file with materials\n *\n * @author mrdoob / http://mrdoob.com/\n * @author angelxuanchang\n */\n\nTHREE.OBJMTLLoader = function (manager) {\n  this.manager = (manager !== undefined) ? manager : THREE.DefaultLoadingManager\n}\n\nTHREE.OBJMTLLoader.prototype = {\n\n  constructor: THREE.OBJMTLLoader,\n\n  load: function (url, mtlurl, onLoad, onProgress, onError) {\n    var scope = this\n\n    var mtlLoader = new THREE.MTLLoader(url.substr(0, url.lastIndexOf('/') + 1))\n    mtlLoader.load(mtlurl, function (materials) {\n      var materialsCreator = materials\n      materialsCreator.preload()\n\n      var loader = new THREE.FileLoader(scope.manager)\n      loader.setPath(this.path)\n      // loader.setCrossOrigin(this.crossOrigin)\n      loader.load(url, function (text) {\n        var object = scope.parse(text)\n\n        object.traverse(function (object) {\n          if (object instanceof THREE.Mesh) {\n            if (object.material.name) {\n              var material = materialsCreator.create(object.material.name)\n\n              if (material) object.material = material\n            }\n          }\n        })\n\n        onLoad(object)\n      }, onProgress, onError)\n    }, onProgress, onError)\n  },\n\n  /**\n\t * Parses loaded .obj file\n\t * @param data - content of .obj file\n\t * @param mtllibCallback - callback to handle mtllib declaration (optional)\n\t * @return {THREE.Object3D} - Object3D (with default material)\n\t */\n\n  parse: function (data, mtllibCallback) {\n    function vector (x, y, z) {\n      return new THREE.Vector3(x, y, z)\n    }\n\n    function uv (u, v) {\n      return new THREE.Vector2(u, v)\n    }\n\n    function face3 (a, b, c, normals) {\n      return new THREE.Face3(a, b, c, normals)\n    }\n\n    var face_offset = 0\n\n    function meshN (meshName, materialName) {\n      if (vertices.length > 0) {\n        geometry.vertices = vertices\n\n        geometry.mergeVertices()\n        geometry.computeFaceNormals()\n        geometry.computeBoundingSphere()\n\n        object.add(mesh)\n\n        geometry = new THREE.Geometry()\n        mesh = new THREE.Mesh(geometry, material)\n      }\n\n      if (meshName !== undefined) mesh.name = meshName\n\n      if (materialName !== undefined) {\n        material = new THREE.MeshLambertMaterial()\n        material.name = materialName\n\n        mesh.material = material\n      }\n    }\n\n    var group = new THREE.Group()\n    var object = group\n\n    var geometry = new THREE.Geometry()\n    var material = new THREE.MeshLambertMaterial()\n    var mesh = new THREE.Mesh(geometry, material)\n\n    var vertices = []\n    var normals = []\n    var uvs = []\n\n    function add_face (a, b, c, normals_inds) {\n      if (normals_inds === undefined) {\n        geometry.faces.push(face3(\n          parseInt(a) - (face_offset + 1),\n          parseInt(b) - (face_offset + 1),\n          parseInt(c) - (face_offset + 1)\n        ))\n      } else {\n        geometry.faces.push(face3(\n          parseInt(a) - (face_offset + 1),\n          parseInt(b) - (face_offset + 1),\n          parseInt(c) - (face_offset + 1),\n          [\n            normals[ parseInt(normals_inds[ 0 ]) - 1 ].clone(),\n            normals[ parseInt(normals_inds[ 1 ]) - 1 ].clone(),\n            normals[ parseInt(normals_inds[ 2 ]) - 1 ].clone()\n          ]\n        ))\n      }\n    }\n\n    function add_uvs (a, b, c) {\n      geometry.faceVertexUvs[ 0 ].push([\n        uvs[ parseInt(a) - 1 ].clone(),\n        uvs[ parseInt(b) - 1 ].clone(),\n        uvs[ parseInt(c) - 1 ].clone()\n      ])\n    }\n\n    function handle_face_line (faces, uvs, normals_inds) {\n      if (faces[ 3 ] === undefined) {\n        add_face(faces[ 0 ], faces[ 1 ], faces[ 2 ], normals_inds)\n\n        if (!(uvs === undefined) && uvs.length > 0) {\n          add_uvs(uvs[ 0 ], uvs[ 1 ], uvs[ 2 ])\n        }\n      } else {\n        if (!(normals_inds === undefined) && normals_inds.length > 0) {\n          add_face(faces[ 0 ], faces[ 1 ], faces[ 3 ], [ normals_inds[ 0 ], normals_inds[ 1 ], normals_inds[ 3 ] ])\n          add_face(faces[ 1 ], faces[ 2 ], faces[ 3 ], [ normals_inds[ 1 ], normals_inds[ 2 ], normals_inds[ 3 ] ])\n        } else {\n          add_face(faces[ 0 ], faces[ 1 ], faces[ 3 ])\n          add_face(faces[ 1 ], faces[ 2 ], faces[ 3 ])\n        }\n\n        if (!(uvs === undefined) && uvs.length > 0) {\n          add_uvs(uvs[ 0 ], uvs[ 1 ], uvs[ 3 ])\n          add_uvs(uvs[ 1 ], uvs[ 2 ], uvs[ 3 ])\n        }\n      }\n    }\n\n    // v float float float\n\n    var vertex_pattern = /v( +[\\d|\\.|\\+|\\-|e]+)( +[\\d|\\.|\\+|\\-|e]+)( +[\\d|\\.|\\+|\\-|e]+)/\n\n    // vn float float float\n\n    var normal_pattern = /vn( +[\\d|\\.|\\+|\\-|e]+)( +[\\d|\\.|\\+|\\-|e]+)( +[\\d|\\.|\\+|\\-|e]+)/\n\n    // vt float float\n\n    var uv_pattern = /vt( +[\\d|\\.|\\+|\\-|e]+)( +[\\d|\\.|\\+|\\-|e]+)/\n\n    // f vertex vertex vertex ...\n\n    var face_pattern1 = /f( +\\d+)( +\\d+)( +\\d+)( +\\d+)?/\n\n    // f vertex/uv vertex/uv vertex/uv ...\n\n    var face_pattern2 = /f( +(\\d+)\\/(\\d+))( +(\\d+)\\/(\\d+))( +(\\d+)\\/(\\d+))( +(\\d+)\\/(\\d+))?/\n\n    // f vertex/uv/normal vertex/uv/normal vertex/uv/normal ...\n\n    var face_pattern3 = /f( +(\\d+)\\/(\\d+)\\/(\\d+))( +(\\d+)\\/(\\d+)\\/(\\d+))( +(\\d+)\\/(\\d+)\\/(\\d+))( +(\\d+)\\/(\\d+)\\/(\\d+))?/\n\n    // f vertex//normal vertex//normal vertex//normal ...\n\n    var face_pattern4 = /f( +(\\d+)\\/\\/(\\d+))( +(\\d+)\\/\\/(\\d+))( +(\\d+)\\/\\/(\\d+))( +(\\d+)\\/\\/(\\d+))?/\n\n    //\n\n    var lines = data.split('\\n')\n\n    for (var i = 0; i < lines.length; i++) {\n      var line = lines[ i ]\n      line = line.trim()\n\n      var result\n\n      if (line.length === 0 || line.charAt(0) === '#') {\n        continue\n      } else if ((result = vertex_pattern.exec(line)) !== null) {\n        // [\"v 1.0 2.0 3.0\", \"1.0\", \"2.0\", \"3.0\"]\n\n        vertices.push(vector(\n          parseFloat(result[ 1 ]),\n          parseFloat(result[ 2 ]),\n          parseFloat(result[ 3 ])\n        ))\n      } else if ((result = normal_pattern.exec(line)) !== null) {\n        // [\"vn 1.0 2.0 3.0\", \"1.0\", \"2.0\", \"3.0\"]\n\n        normals.push(vector(\n          parseFloat(result[ 1 ]),\n          parseFloat(result[ 2 ]),\n          parseFloat(result[ 3 ])\n        ))\n      } else if ((result = uv_pattern.exec(line)) !== null) {\n        // [\"vt 0.1 0.2\", \"0.1\", \"0.2\"]\n\n        uvs.push(uv(\n          parseFloat(result[ 1 ]),\n          parseFloat(result[ 2 ])\n        ))\n      } else if ((result = face_pattern1.exec(line)) !== null) {\n        // [\"f 1 2 3\", \"1\", \"2\", \"3\", undefined]\n\n        handle_face_line([ result[ 1 ], result[ 2 ], result[ 3 ], result[ 4 ] ])\n      } else if ((result = face_pattern2.exec(line)) !== null) {\n        // [\"f 1/1 2/2 3/3\", \" 1/1\", \"1\", \"1\", \" 2/2\", \"2\", \"2\", \" 3/3\", \"3\", \"3\", undefined, undefined, undefined]\n\n        handle_face_line(\n          [ result[ 2 ], result[ 5 ], result[ 8 ], result[ 11 ] ], // faces\n          [ result[ 3 ], result[ 6 ], result[ 9 ], result[ 12 ] ] // uv\n        )\n      } else if ((result = face_pattern3.exec(line)) !== null) {\n        // [\"f 1/1/1 2/2/2 3/3/3\", \" 1/1/1\", \"1\", \"1\", \"1\", \" 2/2/2\", \"2\", \"2\", \"2\", \" 3/3/3\", \"3\", \"3\", \"3\", undefined, undefined, undefined, undefined]\n\n        handle_face_line(\n          [ result[ 2 ], result[ 6 ], result[ 10 ], result[ 14 ] ], // faces\n          [ result[ 3 ], result[ 7 ], result[ 11 ], result[ 15 ] ], // uv\n          [ result[ 4 ], result[ 8 ], result[ 12 ], result[ 16 ] ] // normal\n        )\n      } else if ((result = face_pattern4.exec(line)) !== null) {\n        // [\"f 1//1 2//2 3//3\", \" 1//1\", \"1\", \"1\", \" 2//2\", \"2\", \"2\", \" 3//3\", \"3\", \"3\", undefined, undefined, undefined]\n\n        handle_face_line(\n          [ result[ 2 ], result[ 5 ], result[ 8 ], result[ 11 ] ], // faces\n          [ ], // uv\n          [ result[ 3 ], result[ 6 ], result[ 9 ], result[ 12 ] ] // normal\n        )\n      } else if (/^o /.test(line)) {\n        // object\n\n        meshN()\n        face_offset = face_offset + vertices.length\n        vertices = []\n        object = new THREE.Object3D()\n        object.name = line.substring(2).trim()\n        group.add(object)\n      } else if (/^g /.test(line)) {\n        // group\n\n        meshN(line.substring(2).trim(), undefined)\n      } else if (/^usemtl /.test(line)) {\n        // material\n\n        meshN(undefined, line.substring(7).trim())\n      } else if (/^mtllib /.test(line)) {\n        // mtl file\n\n        if (mtllibCallback) {\n          var mtlfile = line.substring(7)\n          mtlfile = mtlfile.trim()\n          mtllibCallback(mtlfile)\n        }\n      } else if (/^s /.test(line)) {\n\n        // Smooth shading\n\n      } else {\n        console.log('THREE.OBJMTLLoader: Unhandled line ' + line)\n      }\n    }\n\n    // Add last object\n    meshN(undefined, undefined)\n\n    return group\n  }\n\n}\n\n// THREE.EventDispatcher.prototype.apply(THREE.OBJMTLLoader.prototype)\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/OBJMTLLoader.js","/*\n * @author zz85 / https://github.com/zz85\n *\n * Ascii generation is based on http://www.nihilogic.dk/labs/jsascii/\n * Maybe more about this later with a blog post at http://lab4games.net/zz85/blog\n *\n * 16 April 2012 - @blurspline\n */\n\nTHREE.AsciiEffect = function (renderer, charSet, options) {\n  // its fun to create one your own!\n\n  charSet = (charSet === undefined) ? ' .:-=+*#%@' : charSet\n\n  // ' .,:;=|iI+hHOE#`$';\n  // darker bolder character set from https://github.com/saw/Canvas-ASCII-Art/\n  // ' .\\'`^\",:;Il!i~+_-?][}{1)(|/tfjrxnuvczXYUJCLQ0OZmwqpdbkhao*#MW&8%B@$'.split('');\n\n  if (!options) options = {}\n\n  // Some ASCII settings\n\n  var bResolution = !options['resolution'] ? 0.15 : options['resolution'] // Higher for more details\n  var iScale = !options['scale'] ? 1 : options['scale']\n  var bColor = !options['color'] ? false : options['color'] // nice but slows down rendering!\n  var bAlpha = !options['alpha'] ? false : options['alpha'] // Transparency\n  var bBlock = !options['block'] ? false : options['block'] // blocked characters. like good O dos\n  var bInvert = !options['invert'] ? false : options['invert'] // black is white, white is black\n\n  var strResolution = 'low'\n\n  var width, height\n\n  var domElement = document.createElement('div')\n  domElement.style.cursor = 'default'\n\n  var oAscii = document.createElement('table')\n  domElement.appendChild(oAscii)\n\n  var iWidth, iHeight\n  var oImg\n\n  this.setSize = function (w, h) {\n    width = w\n    height = h\n\n    renderer.setSize(w, h)\n\n    initAsciiSize()\n  }\n\n  this.render = function (scene, camera) {\n    renderer.render(scene, camera)\n    asciifyImage(renderer, oAscii)\n  }\n\n  this.domElement = domElement\n\n  // Throw in ascii library from http://www.nihilogic.dk/labs/jsascii/jsascii.js\n\n  /*\n     * jsAscii 0.1\n     * Copyright (c) 2008 Jacob Seidelin, jseidelin@nihilogic.dk, http://blog.nihilogic.dk/\n     * MIT License [http://www.nihilogic.dk/licenses/mit-license.txt]\n     */\n\n  function initAsciiSize () {\n    iWidth = Math.round(width * fResolution)\n    iHeight = Math.round(height * fResolution)\n\n    oCanvas.width = iWidth\n    oCanvas.height = iHeight\n    // oCanvas.style.display = \"none\";\n    // oCanvas.style.width = iWidth;\n    // oCanvas.style.height = iHeight;\n\n    oImg = renderer.domElement\n\n    if (oImg.style.backgroundColor) {\n      oAscii.rows[0].cells[0].style.backgroundColor = oImg.style.backgroundColor\n      oAscii.rows[0].cells[0].style.color = oImg.style.color\n    }\n\n    oAscii.cellSpacing = 0\n    oAscii.cellPadding = 0\n\n    var oStyle = oAscii.style\n    oStyle.display = 'inline'\n    oStyle.width = Math.round(iWidth / fResolution * iScale) + 'px'\n    oStyle.height = Math.round(iHeight / fResolution * iScale) + 'px'\n    oStyle.whiteSpace = 'pre'\n    oStyle.margin = '0px'\n    oStyle.padding = '0px'\n    oStyle.letterSpacing = fLetterSpacing + 'px'\n    oStyle.fontFamily = strFont\n    oStyle.fontSize = fFontSize + 'px'\n    oStyle.lineHeight = fLineHeight + 'px'\n    oStyle.textAlign = 'left'\n    oStyle.textDecoration = 'none'\n  }\n\n  var aDefaultCharList = (' .,:;i1tfLCG08@').split('')\n  var aDefaultColorCharList = (' CGO08@').split('')\n  var strFont = 'courier new, monospace'\n\n  var oCanvasImg = renderer.domElement\n\n  var oCanvas = document.createElement('canvas')\n  if (!oCanvas.getContext) {\n    return\n  }\n\n  var oCtx = oCanvas.getContext('2d')\n  if (!oCtx.getImageData) {\n    return\n  }\n\n  var aCharList = (bColor ? aDefaultColorCharList : aDefaultCharList)\n\n  if (charSet) aCharList = charSet\n\n  var fResolution = 0.5\n\n  switch (strResolution) {\n    case 'low' : \tfResolution = 0.25; break\n    case 'medium' : fResolution = 0.5; break\n    case 'high' : \tfResolution = 1; break\n  }\n\n  if (bResolution) fResolution = bResolution\n\n  // Setup dom\n\n  var fFontSize = (2 / fResolution) * iScale\n  var fLineHeight = (2 / fResolution) * iScale\n\n  // adjust letter-spacing for all combinations of scale and resolution to get it to fit the image width.\n\n  var fLetterSpacing = 0\n\n  if (strResolution == 'low') {\n    switch (iScale) {\n      case 1 : fLetterSpacing = -1; break\n      case 2 :\n      case 3 : fLetterSpacing = -2.1; break\n      case 4 : fLetterSpacing = -3.1; break\n      case 5 : fLetterSpacing = -4.15; break\n    }\n  }\n\n  if (strResolution == 'medium') {\n    switch (iScale) {\n      case 1 : fLetterSpacing = 0; break\n      case 2 : fLetterSpacing = -1; break\n      case 3 : fLetterSpacing = -1.04; break\n      case 4 :\n      case 5 : fLetterSpacing = -2.1; break\n    }\n  }\n\n  if (strResolution == 'high') {\n    switch (iScale) {\n      case 1 :\n      case 2 : fLetterSpacing = 0; break\n      case 3 :\n      case 4 :\n      case 5 : fLetterSpacing = -1; break\n    }\n  }\n\n  // can't get a span or div to flow like an img element, but a table works?\n\n  // convert img element to ascii\n\n  function asciifyImage (canvasRenderer, oAscii) {\n    oCtx.clearRect(0, 0, iWidth, iHeight)\n    oCtx.drawImage(oCanvasImg, 0, 0, iWidth, iHeight)\n    var oImgData = oCtx.getImageData(0, 0, iWidth, iHeight).data\n\n    // Coloring loop starts now\n    var strChars = ''\n\n    // console.time('rendering');\n\n    for (var y = 0; y < iHeight; y += 2) {\n      for (var x = 0; x < iWidth; x++) {\n        var iOffset = (y * iWidth + x) * 4\n\n        var iRed = oImgData[iOffset]\n        var iGreen = oImgData[iOffset + 1]\n        var iBlue = oImgData[iOffset + 2]\n        var iAlpha = oImgData[iOffset + 3]\n        var iCharIdx\n\n        var fBrightness\n\n        fBrightness = (0.3 * iRed + 0.59 * iGreen + 0.11 * iBlue) / 255\n        // fBrightness = (0.3*iRed + 0.5*iGreen + 0.3*iBlue) / 255;\n\n        if (iAlpha == 0) {\n          // should calculate alpha instead, but quick hack :)\n          // fBrightness *= (iAlpha / 255);\n          fBrightness = 1\n        }\n\n        iCharIdx = Math.floor((1 - fBrightness) * (aCharList.length - 1))\n\n        if (bInvert) {\n          iCharIdx = aCharList.length - iCharIdx - 1\n        }\n\n        // good for debugging\n        // fBrightness = Math.floor(fBrightness * 10);\n        // strThisChar = fBrightness;\n\n        var strThisChar = aCharList[iCharIdx]\n\n        if (strThisChar === undefined || strThisChar == ' ') { strThisChar = '&nbsp;' }\n\n        if (bColor) {\n          strChars += \"<span style='\" +\n                        'color:rgb(' + iRed + ',' + iGreen + ',' + iBlue + ');' +\n                        (bBlock ? 'background-color:rgb(' + iRed + ',' + iGreen + ',' + iBlue + ');' : '') +\n                        (bAlpha ? 'opacity:' + (iAlpha / 255) + ';' : '') +\n                        \"'>\" + strThisChar + '</span>'\n        } else {\n          strChars += strThisChar\n        }\n      }\n      strChars += '<br/>'\n    }\n\n    oAscii.innerHTML = '<tr><td>' + strChars + '</td></tr>'\n\n    // console.timeEnd('rendering');\n\n    // return oAscii;\n  }\n\n  // end modified asciifyImage block\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/AsciiEffect.js","import 'three'\nimport 'three/examples/js/controls/OrbitControls'\n\nclass AbstractApplication {\n  constructor () {\n    this._camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 1, 1000)\n    this._camera.position.set(0, 0, 40)\n    this._camera.lookAt(new THREE.Vector3(0, 0, 0))\n\n    this._scene = new THREE.Scene()\n\n    this._renderer = new THREE.WebGLRenderer()\n    this._renderer.setPixelRatio(window.devicePixelRatio)\n    this._renderer.setSize(window.innerWidth, window.innerHeight)\n    // this._renderer.setClearColor(0x00FF00, 1.0)\n    this._renderer.shadowMap.enabled = false\n\n    // document.body.appendChild(this._renderer.domElement)\n\n    // this._controls.addEventListener( 'change', render ); // add this only if there is no animation loop (requestAnimationFrame)\n    // this._controls.enableDamping = true;\n    // this._controls.dampingFactor = 0.25;\n    // this._controls.enableZoom = false;\n\n    window.addEventListener('resize', this.onWindowResize.bind(this), false)\n  }\n\n  get renderer () {\n    return this._renderer\n  }\n\n  get camera () {\n    return this._camera\n  }\n\n  get scene () {\n    return this._scene\n  }\n\n  onWindowResize () {\n    this._camera.aspect = window.innerWidth / window.innerHeight\n    this._camera.updateProjectionMatrix()\n\n    this._renderer.setSize(window.innerWidth, window.innerHeight)\n  }\n\n  animate (timestamp) {\n    // requestAnimationFrame(this.animate.bind(this))\n\n    // // this._controls.update();\n    // this._renderer.render(this._scene, this._camera)\n  }\n}\nexport default AbstractApplication\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/views/AbstractApplication.js"],"sourceRoot":""}